den_debug = {

	den_capitulation_event = {
		complete_effect = {
			country_event = denmark.2
		}
	}

	den_increase_influence = {
		complete_effect = {
			add_to_variable = {
				den_lower_influence = 10
			}
			add_to_variable = { 
				den_middle_influence = 10
			}
			add_to_variable = {
				den_upper_influence = 10
			}
		}
	}
	den_decrease_influence = {
		complete_effect = {
			add_to_variable = {
				den_lower_influence = -10
			}
			add_to_variable = {
				den_middle_influence = -10
			}
			add_to_variable = {
				den_upper_influence = -10
			}
		}
	}
	den_lower_increase_loy = {
		complete_effect = {
			add_to_variable = {
				den_lower_loyalty = 10
			}
			add_to_variable = {
				den_middle_loyalty = 10
			}
			add_to_variable = {
				den_upper_loyalty = 10
			}
		}
	}
	den_lower_decrease_loy = {
		complete_effect = {
			add_to_variable = {
				den_lower_loyalty = -10
			}
			add_to_variable = {
				den_middle_loyalty = -10
			}
			add_to_variable = {
				den_upper_loyalty = -10
			}
		}
	}
	den_calculate = {
		complete_effect = {
			den_calculate_stratas = yes
		}
	}
}
DEN_political_landscape = {
	DEN_reconsider_the_status_of_the_straits = {
		available = {
			NOT = {
				has_country_flag = {
					flag = straits_laws_changed
					days = 100
				}
			}
		}
		visible = {
			tag = DEN
			controls_state = 99
			controls_state = 37
			has_global_flag = copenhagen_convention_revoked
		}
		complete_effect = {
			clr_country_flag = straits_laws_changed
			country_event = {
				id = denmark.3
				hours = 0
			}
			set_country_flag = straits_laws_changed
		}
	}
	den_ships_seized = {
		priority = 10
		
		icon = generic_political_discourse

		available = {
			has_completed_focus = DEN_Scuttle_the_Ships
		}

		days_mission_timeout = 365

		fire_only_once = yes

		activation = {
			always = no
		}
		visible = {
			hidden_trigger = {
				has_focus_tree = free_denmark
			}
		}
		cancel_if_not_visible = yes

		is_good = no
		
		complete_effect = {
			add_war_support = 0.05
			GER = {
				add_war_support = -0.05
			}
			set_country_flag = den_ships_scuttled
		}

		timeout_effect = {
			add_war_support = -0.1
			set_country_flag = den_ships_seized
		}
	}
	den_integrate_greenland = {
		cost = 50
		available = {
			has_war = no
		}
		visible = {
			date > 1948.1.1
			101 = {
				is_fully_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		days_remove = 14
		remove_effect = {
			add_state_core = 101
		}
	}
	den_integrate_sweden = {
		cost = 150
		available = {
			any_owned_state = {
				is_core_of = SWE
				is_controlled_by = ROOT
			}
			core_compliance = {
				occupied_country_tag = SWE
				value > 50
			}
		}
		visible = {
			any_controlled_state = {
				is_core_of = SWE
				is_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
					has_cosmetic_tag = DEN_NOR
				}
				drop_cosmetic_tag = yes
				set_cosmetic_tag = DEN_SCA
			}
			else = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = DEN_SWE
			}
		}
		fire_only_once = yes
		days_remove = 14
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWE
				}
				add_core_of = ROOT
			}
		}
	}
	den_integrate_norway = {
		cost = 150
		available = {
			any_owned_state = {
				is_core_of = NOR
				is_controlled_by = ROOT
			}
			core_compliance = {
				occupied_country_tag = NOR
				value > 50
			}
		}
		visible = {
			any_controlled_state = {
				is_core_of = SWE
				is_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		fire_only_once = yes
		complete_effect = {
			if = {
				limit = {
					has_cosmetic_tag = DEN_SWE
				}
				drop_cosmetic_tag = yes
				set_cosmetic_tag = DEN_SCA
			}
			else = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = DEN_NOR
			}
		}
		days_remove = 14
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = NOR
				}
				add_core_of = ROOT
			}
		}
	}
	den_integrate_finland = {
		cost = 100
		available = {
			any_owned_state = {
				is_core_of = FIN
				is_controlled_by = ROOT
			}
			core_compliance = {
				occupied_country_tag = FIN
				value > 50
			}
		}
		visible = {
			has_cosmetic_tag = DEN_SCA
		}
		fire_only_once = yes
		days_remove = 14
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = FIN
				}
				add_core_of = ROOT
			}
			set_cosmetic_tag = DEN_KAL
		}
	}
	den_integrate_the_north_sea_islands = {
		cost = 25
		available = {
			any_owned_state = {
				is_north_sea_island = yes
				compliance > 50
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		visible = {
			has_cosmetic_tag = DEN_SCA
			any_owned_state = {
				is_north_sea_island = yes
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		fire_only_once = yes
		days_remove = 14
		remove_effect = {
			every_owned_state = {
				limit = {
					is_north_sea_island = yes
				}
				add_core_of = ROOT
			}
		}
	}
	
	den_invite_select_communist_ministers = {
		cost = 35
		available = {
			communism > 0.2
			has_country_flag = political_violence_resolved
		}
		visible = {
			has_completed_focus = DEN_Popular_Front_against_Fascism
			has_completed_focus = DEN_Strengthen_the_Labour_Unions
			has_government = democratic
		}
		complete_effect = {
			#Adds some lukewarm communist ministers
		}
	}
	den_encourage_volunteering_in_spain = {
		cost = 10
		available = {
			SPR_scw_in_progress = yes
			has_manpower > 500
			any_country = {
				original_tag = SPR
				has_war = yes
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		fire_only_once = yes
		visible = {
			OR = {
				has_completed_focus = DEN_An_Appeal_to_the_Proletariat
				has_completed_focus = DEN_Popular_Front_against_Fascism
			}
			NOT = { has_global_flag = scw_over }
		}
		complete_effect = {
			add_manpower = -500			
		}
		remove_effect = {
			set_country_flag = den_scw_volunteers_sent
			random_country = {
				limit = {
					original_tag = SPR
					has_war = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
				add_manpower = 500
				add_opinion_modifier = {
					target = DEN
					modifier = POR_helped_in_civil_war
				}
				save_global_event_target_as = den_scw_volunteer_receiver
			}
			custom_effect_tooltip = den_scw_volunteering_tt
		}
		days_remove = 45
	}
}

#	
#	ALL OF THE VALUES ARE TODO	
#	

DEN_political_violence = {
	den_upcoming_political_violence = {
		activation = {
			always = no
		}
		available = {
			always = no
		}
		priority = 50
		icon = revolt
		is_good = no
		days_mission_timeout = var:den_vio_days
		timeout_effect = {
			den_calculate_violence_odds = yes
			random_list = {
				var:com_odds = {	#communists win
					if = {
						limit = {
							has_completed_focus = DEN_Popular_Front_against_Fascism
						}
						country_event = denmark.53
					}
					else = {
						country_event = denmark.50
					}
				}
				var:stale_odds = {	#stalemate
					country_event = denmark.52
				}
				var:fasc_odds = {	#fascists win
					country_event = denmark.51
				}
			}
			den_generate_violence_name = yes
			set_variable = {
				political_violence_consequence = -0.075
			}
		}
	}
	### DEMOCRATIC COUNTER MEASURES
	den_increase_police_presence = {
		cost = 25
		icon = generic_police_action
		visible = {
			has_active_mission = den_upcoming_political_violence
		}
		available = {
			has_active_mission = den_upcoming_political_violence
			OR = {
				has_completed_focus = DEN_Initiate_Economic_Reforms
				has_completed_focus = DEN_Strengthen_the_Labour_Unions
			}
		}
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		complete_effect = {
			#Reduces the consequences of the upcoming violence
			add_to_variable = {
				stale_odds = 1
			}
			custom_effect_tooltip = den_increased_police_tt
			add_to_variable = {
				political_violence_consequence = 0.025
			}
		}
	}
	den_investigate_extremists = {
		cost = 30
		icon = generic_brainwash
		visible = {
			has_active_mission = den_upcoming_political_violence
		}
		available = {
			has_active_mission = den_upcoming_political_violence
			OR = {
				has_completed_focus = DEN_Initiate_Economic_Reforms
				has_completed_focus = DEN_Strengthen_the_Labour_Unions
			}
		}
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		days_remove = -1
		complete_effect = {
			add_to_variable = {
				stale_odds = 1
			}
			add_days_mission_timeout = {
				mission = den_upcoming_political_violence
				days = 50
			}
		}
	}
	### FASCIST COUNTER MEASURES
	den_recruit_additional_blackshirts = {
		cost = 100
		fire_only_once = yes
		icon = eng_blackshirt_march
		visible = {
			has_completed_focus = DEN_Galvanise_the_German_Minority
			has_active_mission = den_upcoming_political_violence
		}
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		days_remove = -1
		remove_effect = {
			#Strengthens the Fascists in all future street clashes
			set_country_flag = den_additional_blackshirts
		}
	}
	den_political_assassination = {
		cost = 30
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		icon = generic_assassination
		days_remove = -1
		visible = {
			has_completed_focus = DEN_Galvanise_the_German_Minority
			has_active_mission = den_upcoming_political_violence
		}
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		complete_effect = {
			add_to_variable = {
				com_odds = -1
			}
			add_days_mission_timeout = {
				mission = den_upcoming_political_violence
				days = -20
			}
		}
	}
	den_raid_dkp_headquarters = {
		cost = 50
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		icon = generic_scorched_earth
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		visible = {
			has_completed_focus = DEN_Galvanise_the_German_Minority
			has_active_mission = den_upcoming_political_violence
		}
		complete_effect = {
			#Strengthens the Fascists in next street clash + stab hit
			add_to_variable = {
				com_odds = -2
			}
			add_to_variable = {
				political_violence_consequence = -0.025
			}
		}
	}
	### ANTI FASCIST COUNTER MEASURES
	den_mobilize_the_common_worker = {
		cost = 100
		fire_only_once = yes
		icon = generic_political_discourse
		days_remove = -1
		complete_effect = {
			#Strengthens the Communists in all future street clashes
		}
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		visible = {
			OR = {
				has_completed_focus = DEN_An_Appeal_to_the_Proletariat
				has_completed_focus = DEN_Popular_Front_against_Fascism
			}
			has_active_mission = den_upcoming_political_violence
		}
	}
	den_get_the_unions_involved = {
		cost = 50
		icon = eng_trade_unions_support
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		visible = {
			OR = {
				has_completed_focus = DEN_An_Appeal_to_the_Proletariat
				has_completed_focus = DEN_Popular_Front_against_Fascism
			}
			has_active_mission = den_upcoming_political_violence
		}
		complete_effect = {
			#Strengthens the Anti Fascists for the next clash
		}
	}
	den_provoke_the_SA = {
		cost = 30
		icon = generic_civil_support
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		visible = {
			has_completed_focus = DEN_An_Appeal_to_the_Proletariat
			has_active_mission = den_upcoming_political_violence
		}
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		complete_effect = {
			add_days_mission_timeout = {
				mission = den_upcoming_political_violence
				days = -20
			}
			add_to_variable = {
				political_violence_consequence = -0.025
			}
		}
	}
	## SOCIAL DEMOCRATIC COUNTER MEASURES

	## COMMUNIST COUNTER MEASURES
	den_expand_social_democratic_participation = {
		cost = 30
		icon = eng_trade_unions_demand
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		visible = {
			has_completed_focus = DEN_An_Appeal_to_the_Proletariat
			has_completed_focus = DEN_Popular_Front_against_Fascism
			has_active_mission = den_upcoming_political_violence
		}
		remove_effect = {
			#Strengthens anti fascist for next street clash, slightly increases democratic popularity if won
		}
	}
	### SHARED COUNTER MEASURES
	den_propaganda_efforts = {
		cost = 15
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		icon = eng_propaganda_campaigns
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		visible = {
			OR = {
				has_completed_focus = DEN_Galvanise_the_German_Minority
				has_completed_focus = DEN_An_Appeal_to_the_Proletariat
				has_completed_focus = DEN_Popular_Front_against_Fascism
			}
			has_active_mission = den_upcoming_political_violence
		}
		complete_effect = {
			#Strengthens the player in the next street clash
		}
	}
	den_encourage_restraint = {
		cost = 10
		available = {
			has_active_mission = den_upcoming_political_violence
		}
		icon = generic_scales
		days_remove = -1
		remove_trigger = {
			NOT = {
				has_active_mission = den_upcoming_political_violence
			}
		}
		visible = {
			OR = {
				has_completed_focus = DEN_Galvanise_the_German_Minority
				has_completed_focus = DEN_An_Appeal_to_the_Proletariat
			}
			has_active_mission = den_upcoming_political_violence
		}
		complete_effect = {
			#Weakens the player in the next clash but reduces the penalties
		}
	}

}
#For now unfitting
#DEN_communist_organisation = {
#	
#	### <> The Union <> ###
#	den_rally_the_light_industrial_workers = {
#		available = {
#			
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 1
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {
#			den_strengthen_union = yes
#			country_event = denmark.51
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 1 }
#		}
#		modifier = {
#			consumer_goods_factor = 0.25
#			production_speed_buildings_factor = -0.33
#		}
#		days_remove = 45
#	}
#	den_rally_the_heavy_industrial_workers = {
#		available = {
#			
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 2
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {
#			den_strengthen_union = yes
#			country_event = denmark.52
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 2 }
#		}
#		modifier = {
#			industrial_capacity_factory = -0.5
#			production_speed_arms_factory_factor = -0.5
#		}
#		days_remove = 45
#	}
#	den_rally_the_mining_workers = {
#		available = {
#			
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 3
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {
#			den_strengthen_union = yes
#			country_event = denmark.53
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 3 }
#		}
#		modifier = {
#			local_resources_factor = -0.33
#		}
#		days_remove = 45
#	}
#	### <> The Party <> ###
#	den_invite_kpd_partisans = {
#		available = {
#			GER = {
#				OR = {
#					has_government = fascism
#					has_government = neutrality
#				}
#			}
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 4
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {	
#			den_strengthen_party = yes	
#			country_event = denmark.61	
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 4 }
#		}
#		modifier = {
#			
#		}
#		days_remove = 45
#	}
#	den_urban_demonstrations = {
#		available = {
#			
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 5
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {	
#			den_strengthen_party = yes
#			country_event = denmark.62	
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 5 }
#		}
#		modifier = {
#			consumer_goods_factor = 0.1
#		}
#		days_remove = 45
#	}
#	den_rally_the_sailors = {
#		available = {
#			
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 6
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {
#			den_strengthen_party = yes
#			country_event = denmark.63
#		}
#		modifier = {
#			experience_gain_navy_factor = -1
#			naval_speed_factor = -0.80
#			industrial_capacity_dockyard = -0.5
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 6 }
#		}
#		days_remove = 45
#	}
#	den_rally_college_students = {
#		available = {
#			has_completed_focus = DEN_Expand_the_Copenhagen_University
#			custom_trigger_tooltip = {
#				tooltip = den_com_other_action_taken_tt
#				NOT = {
#					check_variable = {
#						last_comm_action = 7
#					}
#				}
#			}
#		}
#		fire_only_once = no
#		visible = {
#			has_completed_focus = DEN_Organize_Nationwide_Strikes
#		}
#		complete_effect = {
#			den_strengthen_party = yes
#			country_event = denmark.64
#		}
#		remove_effect = {
#			set_variable = { last_comm_action = 7 }
#		}
#		modifier = {
#			research_speed_factor = -0.1
#		}
#		days_remove = 45
#	}
#}