political_actions = {
	FRA_repatriate_the_remains_of_napoleon_ii = {

		icon = generic_nationalism

		cost = 20
		fire_only_once = yes

		days_remove = 30

		allowed = {
			original_tag = FRA
		}

		available = {

			OR = {
				controls_state = 4
				4 = {
					OWNER = {
						OR = {
							is_puppet_of = FRA
							is_in_faction_with = FRA
							AND = {
								tag = GER
								has_global_flag = FRA_GER_sphere_of_influence_agreement
								NOT = {
									has_war_with = GER
								}
								has_non_aggression_pact_with = GER
							}
							
						}
						
					}
				}
			}


		}

		visible = {
			has_government = neutrality
			has_completed_focus = FRA_brumaire_movement
			NOT = {
				has_global_flag = napoleon_ii_repatriated
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 4
			} 
		}
		remove_effect = {
			if = {
				limit = {
					has_global_flag = FRA_GER_sphere_of_influence_agreement_resistance
					NOT = {
						has_war_with = GER
					}
					has_non_aggression_pact_with = GER
					GER = {
						owns_state = 4
					}					
				}
				add_opinion_modifier = { target = GER modifier = huge_increase }
			}
			add_stability = 0.03
			set_global_flag = napoleon_ii_repatriated
		}
		ai_will_do = {
			factor = 200
		}		
	}
	FRA_assimilate_wallonia = {

		icon = generic_nationalism

		cost = 25
		fire_only_once = yes

		days_remove = 30

		allowed = {
			original_tag = FRA
		}

		available = {
			34 = {
				is_owned_by = ROOT
				is_fully_controlled_by = ROOT
				compliance > 50
			}
		}

		visible = {
			has_government = neutrality
			OR = {
				has_completed_focus = FRA_our_natural_borders
				has_completed_focus = FRA_split_belgium
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 34
			} 
		}
		remove_effect = {
			34 = {
				add_core_of = ROOT
			}
		}
		ai_will_do = {
			factor = 10
		}		
	}	
	FRA_divide_catalogne_into_departments = {

		icon = generic_nationalism

		cost = 25
		fire_only_once = yes

		days_remove = 30

		allowed = {
			original_tag = FRA
		}

		available = {
			165 = {
				is_owned_by = ROOT
				is_controlled_by = ROOT
				compliance > 15
			}
		}

		visible = {
			has_government = neutrality
			has_completed_focus = FRA_secure_catalonia	
		}

		ai_will_do = {
			factor = 4
		}
		highlight_states = {
			highlight_state_targets = {
				state = 165
			} 
		}
		remove_effect = {
			165 = {
				add_compliance = 15
				remove_dynamic_modifier = { modifier = autonomous_state }
			}
		}
	}		
	FRA_reestablish_the_government_in_paris = {

		icon = generic_nationalism

		fire_only_once = yes

		days_remove = 30

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 16
			16 = {
				is_core_of = ROOT
			}
		}

		visible = {
			NOT = {
				16 = {
					is_capital = yes
				}
			}
		}

		remove_effect = {
			add_stability = 0.03
			set_capital = { state = 16 }
		}
		highlight_states = {
			highlight_state_targets = {
				state = 16
			} 
		}		
		ai_will_do = {
			factor = 2
		}		
	}			
	FRA_the_popular_front = {

		icon = eng_trade_unions_demand

		priority = 50

		is_good = no
		days_mission_timeout = 939

		allowed = {
			original_tag = FRA
		}

		visible = {
			has_government = democratic
		}
		activation = {                          
			#has_completed_focus = FRA_status_quo
			has_completed_focus = FRA_form_the_popular_front
			NOT = {
				has_global_flag = FRA_popular_front_was_dealth_with
			}
		}
		available = {
			has_government = democratic
			has_completed_focus = FRA_popular_front_united
		}

		cancel_if_not_visible = yes
		fire_only_once = yes

		complete_effect = {
			add_political_power = 20
			add_stability = 0.03 #just a little reward for you
			set_global_flag = FRA_popular_front_was_dealth_with
		}

		timeout_effect = {
			#country_event = france.107
			country_event = france.102
		}
	}
	FRA_the_national_bloc = {

		icon = eng_trade_unions_demand

		priority = 50

		is_good = no
		days_mission_timeout = 939

		allowed = {
			original_tag = FRA
		}

		visible = {
			has_government = democratic
			NOT = { has_completed_focus = FRA_full_fledged_state_reform }
		}
		activation = {                          
			#has_completed_focus = FRA_status_quo
			has_completed_focus = FRA_revive_the_national_bloc
		}
		available = {
			has_government = democratic
			has_completed_focus = FRA_protect_the_rights_of_man
		}

		cancel_if_not_visible = yes
		fire_only_once = yes

		complete_effect = {
			add_political_power = 20
			add_stability = 0.03 #just a little reward for you
		}

		timeout_effect = {
			country_event = r56_france.1
		}
	}
}

foreign_influence = {
	FRA_the_american_napoleon = {

		icon = eng_trade_unions_demand

		allowed = {
			original_tag = FRA
		}

		available = {
			USA = {
				is_puppet_of = FRA
			}
		}

		cost = 25

		fire_only_once = yes

		visible = {
			is_ai = no
			has_completed_focus = FRA_brumaire_movement
			has_government = neutrality
			USA = {
				is_subject_of = FRA
				has_government = neutrality
			}
		}

		complete_effect = {
			USA = {
				create_country_leader = {
					name = "Jerome Napoleon Bonaparte"
					desc = ""
					picture = "gfx/leaders/Europe/portrait_europe_generic_4.dds"
					expire = "1965.1.1"
					ideology = moderatism
					traits = {
						dealbroker
					}
				}
			}
		}
	}
}

r56_military_buildup = {

	FRA_sarl_42 = {

		icon = generic_tank
		
		allowed = {
			tag = VIC
			has_dlc = "No Step Back"
		}

		available = {
			has_army_experience > 49.99
			has_tech = advanced_medium_tank_chassis
			has_tech = radio
			OR = {
				has_tech = artillery4
				has_tech = antitank3
			}
			has_tech = armor_tech_1
			has_tech = engine_tech_1
		}

		visible = {
			has_completed_focus = VIC_secret_tank_development
		}
		
		fire_only_once = yes

		modifier = {
			
		}

		days_remove = 360

		cost = 25
		
		complete_effect = {
			army_experience = -50
		}
		remove_effect = {
			if = {
				limit = {
					has_tech = centimetric_radar
				}
				create_equipment_variant = {
					name = "SARL 42"
					type = medium_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_cast_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = tank_radio_3
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/FRA_adv_main_tank.dds"
				}
			}
			else_if = {
				limit = {
					has_tech = decimetric_radar
				}
				create_equipment_variant = {
					name = "SARL 42"
					type = medium_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_cast_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = tank_radio_2
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/FRA_adv_main_tank.dds"
				}
			}
			else_if = {
				limit = {
					has_tech = radio
				}
				create_equipment_variant = {
					name = "SARL 42"
					type = medium_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_cast_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/FRA_adv_main_tank.dds"
				}
			}
			else = {
				create_equipment_variant = {
					name = "SARL 42"
					type = medium_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_cast_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/FRA_adv_main_tank.dds"
				}
			}
		}

		ai_will_do = {
			base = 90
		}
	}

	FRA_arl_44 = {

		icon = generic_tank
		
		allowed = {
			tag = VIC
			has_dlc = "No Step Back"
		}

		available = {
			has_army_experience > 49.99
			has_tech = advanced_heavy_tank_chassis
			has_tech = radio
			has_tech = antitank4
			has_tech = armor_tech_2
			has_tech = engine_tech_2
		}

		visible = {
			has_completed_focus = VIC_secret_tank_development
		}
		
		fire_only_once = yes

		modifier = {
			
		}

		days_remove = 360

		cost = 25
		
		complete_effect = {
			army_experience = -50
		}
		remove_effect = {
			if = {
				limit = {
					has_tech = antitank5
				}
				if = {
					limit = {
						has_tech = centimetric_radar
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_3
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_3
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else_if = {
					limit = {
						has_tech = decimetric_radar
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_3
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_2
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else_if = {
					limit = {
						has_tech = radio
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_3
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_1
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else = {
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_3
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
			}
			else = {
				if = {
					limit = {
						has_tech = centimetric_radar
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_2
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_3
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else_if = {
					limit = {
						has_tech = decimetric_radar
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_2
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_2
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else_if = {
					limit = {
						has_tech = radio
					}
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_2
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
							special_type_slot_3 = tank_radio_1
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
				else = {
					create_equipment_variant = {
						name = "ARL 44"
						type = heavy_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_2
							turret_type_slot = tank_heavy_three_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = sloped_armor
							special_type_slot_2 = smoke_launchers
						}
						upgrades = {
							tank_nsb_engine_upgrade = 11
							tank_nsb_armor_upgrade = 11
						}
						icon = "gfx/interface/technologies/FRA_adv_heavy_tank.dds"
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}
	}

}

FRA_vichy_france = {

	FRA_scuttle_the_fleet = {

		icon = generic_naval

		available = {
			OR = {
				original_tag = FRA
				original_tag = VIC
			}
			has_government = fascism
			NOT = {
				GER = { divisions_in_state = { state = 21 size > 0 } }
			}
			has_country_flag = {
				flag = case_anton
				days > 2
			}
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 21
			} 
		}
		
		visible = {
			OR = {
				original_tag = FRA
				original_tag = VIC
			}
			has_government = fascism
			has_country_flag = case_anton
		}

		complete_effect = {
			set_country_flag = scuttled_fleet
			destroy_ships = {
				type = ship_hull_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy
				count = all
			}
			destroy_ships = {
				type = ship_hull_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_submarine
				count = all
			}
		}
	}

	FRA_case_anton_mission = {

		icon = generic_tank

		available = {
			#is_subject = no
			has_war_with = GER
		}

		days_mission_timeout = 7
		fire_only_once = yes

		activation = {
			#original_tag = FRA
			#has_government = fascism
			#is_subject_of = GER
			has_country_flag = is_vichy_france
			has_country_flag = case_anton
		}

		visible = {
			OR = {
				#is_subject_of = GER
				has_focus_tree = vichy_french_focus
				has_focus_tree = vichy_france_focus
			}
			has_country_flag = case_anton
		}

		complete_effect = {
			custom_effect_tooltip = FRA_case_anton_mission_tt
		}

		is_good = no

		timeout_effect = {
			transfer_navy = { target = GER }
			#GER = { annex_country = { target = ROOT } }
			GER = {
				set_autonomy = {
					target = VIC
					autonomy_state = autonomy_reichskommissariat
				}
			}
			#capital changes to something like MArseille after puppeting
			hidden_effect = {
				set_capital = { state = 26 } 
			}
			set_rule = { 
				can_create_factions = no
			}
			add_country_leader_role = {
				character = FRA_pierre_laval
				country_leader = {
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						eager_collaborator
					}
				}
				promote_leader = yes
			}
			FRA_maxime_weygand = {
				set_character_flag = arrested
			}
			if = {
				limit = {
					has_completed_focus = VIC_a_nation_reborn
				}
				uncomplete_national_focus = {
					focus = VIC_a_nation_reborn
					uncomplete_children = yes
				}
				add_ideas = VIC_shattered_economy1
			}
			if = {
				limit = {
					ITA = {
						is_in_faction_with = GER
						has_war_together_with = GER
					}
				}
				ITA = { country_event = { id = r56_france_italian_occupation.1 hours = 6 } }
			}
			if = {
				limit = {
					NOT = { has_country_flag = scuttled_fleet }
				}
				GER = { news_event = { id = wtt_news.23 hours = 6 } }
			}
			if = {
				limit = {
					has_country_flag = scuttled_fleet
				}
				GER = { news_event = { id = wtt_news.24 hours = 6 } }
			}
			#custom_effect_tooltip = GAME_OVER_TT
		}
	}
	FRA_demand_unification_with_vichy = {
		available = {
			any_other_country = {
				tag = VIC #tag alias, does not work as proper scope? TODO_GABRIEL recheck
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			controls_state = 16 #Paris
		}

		visible = {
			NOT = {
				tag = VIC
			}
			country_exists = VIC
		}
		ai_will_do = {
			factor = 100
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			random_other_country = {
				limit = {
					tag = VIC
				}
				country_event = lar_france_vichy_reunification.1
			}
		}
	}
	FRA_failsafe_join_axis = {
		available = {
			tag = VIC
			any_state = {
				NOT = { #algeria
					state = 459
					state = 460
					state = 513
					state = 860
				}
				is_core_of = FRA
				is_controlled_by = FRA #Free France has taken back some territory on the mainland
			}
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			date > 1942.6.1
		}
		visible = {
			is_ai = yes #if you are not a member of the dev team - avert thy eyes, traveller, for thou hath gazed upon my shame
		}
		ai_will_do = {
			#factor = 10
			factor = 0
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			set_rule = { can_join_factions = yes }
			GER = { add_to_faction = ROOT }
		}
	}
}
category_test_decisions = {
	test_join_allies = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			ENG = { add_to_faction = ROOT }
		}
	}
	test_usa_join_allies = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			ENG = { add_to_faction = USA }
		}
	}
	test_italy_join_axis = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			GER = { add_to_faction = ITA }
		}
	}
	test_germany_declare_war = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			GER = {
				declare_war_on = {
					target = FRA
					type = annex_everything
				}
			}
			ITA = {
				add_to_war = {
					targeted_alliance = GER
					enemy = FRA
					hostility_reason = asked_to_join
				}
			}
			ENG = {
				add_to_war = {
					targeted_alliance = FRA
					enemy = GER
					hostility_reason = asked_to_join
				}
			}
		}
	}
	test_germany_take_vic_points = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			28 = { set_state_controller_to = GER }
			18 = { set_state_controller_to = GER }
			16 = { set_state_controller_to = GER }
			15 = { set_state_controller_to = GER }
			29 = { set_state_controller_to = GER }
		}
	}
	test_give_access = {
		allowed = { original_tag = FRA }
		available = {
			tag = VIC
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			give_military_access = GER
		}
	}
	test_siam_attack_fri = {
		allowed = { original_tag = FRA }
		available = {
			tag = VIC
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			SIA = {
				declare_war_on = {
					target = FRI
					type = annex_everything
				}
			}
		}
	}
	test_case_anton = {
		allowed = { original_tag = FRA }
		available = {
			tag = VIC
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			set_country_flag = case_anton
			activate_mission = FRA_case_anton_mission
		}
	}
	test_italian_demands = {
	
		allowed = {
			original_tag = FRA
		}
		available = {
			tag = VIC
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			VIC = { country_event = r56_france_italian_claims.1 }
		}
		
	}
	test_legit = {
	
		allowed = {
			original_tag = FRA
		}
		available = {
			has_country_flag = free_france
		}
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			add_legitimacy = 90
		}
		
	}
	test_eng_usa_attack_vichy = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			FRA = {
				declare_war_on = {
					target = VIC
					type = annex_everything
				}
			}
			ENG = {
				add_to_war = {
					targeted_alliance = FRA
					enemy = VIC
					hostility_reason = puppet
				}
			}
			USA = {
				add_to_war = {
					targeted_alliance = FRA
					enemy = VIC
					hostility_reason = puppet
				}
			}
		}
	}
	test_take_algiers_and_morocco_points = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			461 = { set_state_controller_to = FRA }
			459 = { set_state_controller_to = FRA }
		}
	}
	test_free_france = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			load_focus_tree = free_french_focus
		}
	}
	test_vichy_france = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			create_dynamic_country = {
				original_tag = FRA
				save_event_target_as = france_vichy
				every_state = {
					limit = {
						is_controlled_by = ROOT
						OR = {
							is_on_continent = africa
							is_core_of = VIN
							is_core_of = CAM
							is_core_of = LAO
							is_core_of = LEB
							is_core_of = SYR
						}
					}
					event_target:france_vichy = { transfer_state = PREV }
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
						OR = {
							state = 735
							state = 21
							state = 32
							state = 20
							state = 26
							state = 22
							state = 31
							state = 25
							state = 33
						}
					}
					add_core_of = PREV
					event_target:france_vichy = { transfer_state = PREV }
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						NOT = {
							is_controlled_by = event_target:france_vichy
						}
					}
					add_core_of = PREV
				}
				set_capital = { state = 26 }
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 0
					neutrality = 20
					fascism = 80
					communism = 0
				}
				set_cosmetic_tag = VICHY_FRANCE
				create_country_leader = {
					name = "Philippe Pétain"
					desc = "POLITICS_PHILIPPE_PETAIN_DESC"
					picture = "Portrait_France_Philippe_Petain.dds"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						popular_figurehead2
					}
				}
				add_ideas = FRA_occupation_costs_4
				load_focus_tree = vichy_french_focus
				FRA = {
					transfer_units_fraction = {
						target = event_target:france_vichy
						size = 0.9
						stockpile_ratio = 0.7
						army_ratio = 0.5
						navy_ratio = 0.85
						air_ratio = 1.0
					}
				}
				change_tag_from = FRA
			}
		}
	}
}

FRA_weapons_purchases_category = {
	FRA_order_weapons_in_USA = {
	icon = generic_prepare_civil_war
		available = {

		}
		visible = {
			USA_can_sell_weapons_trigger = yes
		}
		days_remove = 60
		cost = 50
		ai_will_do = {
			factor = 10
			modifier = {
				has_equipment = {
					infantry_equipment < 1
				}
				factor = 50
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		complete_effect = {
			USA = {
				add_offsite_building = { type = industrial_complex level = 2 }
			}
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
			}
			USA = {
				add_offsite_building = { type = industrial_complex level = -2 }
			}
		}
	}
	FRA_order_artillery_in_USA = {
		icon = ger_military_buildup
		available = {

		}
		visible = {
			USA_can_sell_weapons_trigger = yes
		}
		days_remove = 60
		cost = 75
		ai_will_do = {
			factor = 5
			modifier = {
				has_equipment = {
					artillery_equipment < 1
				}
				factor = 50
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		complete_effect = {
			USA = {
				add_offsite_building = { type = industrial_complex level = 3 }
			}
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 75
			}
			USA = {
				add_offsite_building = { type = industrial_complex level = -3 }
			}
		}
	}
	FRA_order_tanks_in_USA = {
		icon = generic_air
		visible = {
			USA_can_sell_weapons_trigger = yes
		}
		days_remove = 60
		cost = 100
		ai_will_do = {
			factor = 1
			modifier = {
				has_equipment = {
					light_tank_chassis < 10
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			USA = {
				add_offsite_building = { type = industrial_complex level = 5 }
			}
		}
		remove_effect = {
			if = {
				limit = {
					USA = { 
						OR = {
							has_tech = basic_light_tank 
							has_tech = basic_light_tank_chassis
						}
						NOT = { 
							has_tech = basic_medium_tank 
							has_tech = improved_medium_tank #needed because basic can be bypassed
							has_tech = basic_medium_tank_chassis
							has_tech = improved_medium_tank_chassis
						}
					}
				}
				add_equipment_to_stockpile = {
					type = light_tank_chassis
					amount = 50
				}
			}
			else_if = {
				limit = {
					USA = {
						OR = {
							has_tech = basic_medium_tank
							has_tech = improved_medium_tank #needed because basic can be bypassed
							has_tech = basic_medium_tank_chassis
							has_tech = improved_medium_tank_chassis
						}
					}
				}
				add_equipment_to_stockpile = {
					type = medium_tank_chassis
					amount = 50
				}
			}
			USA = {
				add_offsite_building = { type = industrial_complex level = -5 }
			}
		}
	}
	FRA_order_fighters_in_USA = {
		icon = generic_air
		available = {

		}
		visible = {
			USA_can_sell_weapons_trigger = yes
		}
		days_remove = 60
		cost = 100
		ai_will_do = {
			factor = 1
			modifier = {
				has_equipment = {
					fighter_equipment < 1
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			USA = {
				add_offsite_building = { type = industrial_complex level = 5 }
			}
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment
				amount = 50
			}
			USA = {
				add_offsite_building = { type = industrial_complex level = -5 }
			}
		}
	}
	FRA_order_bombers_in_USA = {
		icon = generic_air
		available = {

		}
		visible = {
			USA_can_sell_weapons_trigger = yes
		}
		days_remove = 60
		cost = 100
		ai_will_do = {
			factor = 1
			modifier = {
				has_equipment = {
					tac_bomber_equipment < 1
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {

		}
		complete_effect = {
			USA = {
				add_offsite_building = { type = industrial_complex level = 5 }
			}
		}
		remove_effect = {
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = 25
			}
			USA = {
				add_offsite_building = { type = industrial_complex level = -5 }
			}
		}
	}
}

FRA_allied_equipment_acquisition = {

	FRA_lease_USA_light_tanks = {
		icon = generic_tank
		available = {
			USA = {
				OR = {
					has_tech = basic_light_tank 
					has_tech = basic_light_tank_chassis
				}
			}
			NOT = { has_country_flag = ordering_USA_equipment }
		}
		visible = {
			USA_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					light_tank_chassis < 10
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_USA_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_USA_equipment
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = light_tank_chassis
					amount = 50
					producer = USA
				}
			}
			else = {
				if = {
					limit = {
						USA = { has_tech = advanced_light_tank }
					}
					add_equipment_to_stockpile = {
						type = light_tank_equipment_3
						amount = 50
						producer = USA
					}
				}
				else_if = {
					limit = {
						USA = { has_tech = improved_light_tank }
					}
					add_equipment_to_stockpile = {
						type = light_tank_equipment_2
						amount = 50
						producer = USA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = light_tank_equipment_1
						amount = 50
						producer = USA
					}
				}
			}
		}
	}
	
	FRA_lease_USA_medium_tanks = {
		icon = generic_tank
		available = {
			USA = {
				OR = {
					has_tech = basic_medium_tank 
					has_tech = basic_medium_tank_chassis
				}
			}
			NOT = { has_country_flag = ordering_USA_equipment }
		}
		visible = {
			USA_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					medium_tank_chassis < 10
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_USA_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_USA_equipment
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = medium_tank_chassis
					amount = 50
					producer = USA
				}
			}
			else = {
				if = {
					limit = {
						USA = { has_tech = advanced_light_tank }
					}
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_3
						amount = 50
						producer = USA
					}
				}
				else_if = {
					limit = {
						USA = { has_tech = improved_light_tank }
					}
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_2
						amount = 50
						producer = USA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_1
						amount = 50
						producer = USA
					}
				}
			}
		}
	}
	
	FRA_lease_USA_fighters = {
		icon = generic_air
		available = {
			NOT = { has_country_flag = ordering_USA_equipment }
		}
		visible = {
			USA_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					fighter_equipment < 1
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_USA_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_USA_equipment
			add_equipment_to_stockpile = {
				type = fighter_equipment
				amount = 50
			}
		}
	}
	
	FRA_lease_ENG_light_tanks = {
		icon = generic_tank
		available = {
			ENG = {
				OR = {
					has_tech = basic_light_tank 
					has_tech = basic_light_tank_chassis
				}
			}
			NOT = { has_country_flag = ordering_ENG_equipment }
		}
		visible = {
			ENG_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					light_tank_chassis < 10
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_ENG_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_ENG_equipment
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = light_tank_chassis
					amount = 50
					producer = ENG
				}
			}
			else = {
				if = {
					limit = {
						ENG = { has_tech = advanced_light_tank }
					}
					add_equipment_to_stockpile = {
						type = light_tank_equipment_3
						amount = 50
						producer = ENG
					}
				}
				else_if = {
					limit = {
						ENG = { has_tech = improved_light_tank }
					}
					add_equipment_to_stockpile = {
						type = light_tank_equipment_2
						amount = 50
						producer = ENG
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = light_tank_equipment_1
						amount = 50
						producer = ENG
					}
				}
			}
		}
	}
	
	FRA_lease_ENG_medium_tanks = {
		icon = generic_tank
		available = {
			ENG = {
				OR = {
					has_tech = basic_medium_tank
					has_tech = basic_medium_tank_chassis
				}
			}
			NOT = { has_country_flag = ordering_ENG_equipment }
		}
		visible = {
			ENG_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					medium_tank_chassis < 10
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_ENG_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_ENG_equipment
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = medium_tank_chassis
					amount = 50
					producer = ENG
				}
			}
			else = {
				if = {
					limit = {
						ENG = { has_tech = advanced_medium_tank }
					}
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_3
						amount = 50
						producer = ENG
					}
				}
				else_if = {
					limit = {
						ENG = { has_tech = improved_medium_tank }
					}
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_2
						amount = 50
						producer = ENG
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = medium_tank_equipment_1
						amount = 50
						producer = ENG
					}
				}
			}
		}
	}
	
	FRA_lease_ENG_fighters = {
		icon = generic_air
		available = {
			NOT = { has_country_flag = ordering_ENG_equipment }
		}
		visible = {
			ENG_will_support = yes
		}
		days_remove = 30
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			factor = 12
			modifier = {
				has_equipment = {
					fighter_equipment < 1
				}
				factor = 5
			}
			modifier = {
				has_manpower < 10000
				factor = 0 #need to up conscription laws
			}
		}
		modifier = {
		}
		complete_effect = {
			set_country_flag = ordering_ENG_equipment
		}
		remove_effect = {
			clr_country_flag = ordering_ENG_equipment
			add_equipment_to_stockpile = {
				type = fighter_equipment
				amount = 50
			}
		}
	}
}

FRA_spanish_intervention_category = {
	FRA_invite_FROM_to_non_intervention = {
		icon = hol_exchange_intelligence_data
		available = {
			has_country_flag = FRA_non_intervention
		}
		target_array = global.majors

		target_trigger = {
			FROM = {
				exists = yes
				not = {
					OR = {
						has_country_flag = FRA_non_intervention_agreed
						has_country_flag = FRA_non_intervention_refused
					}
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		visible = {
			has_country_flag = FRA_non_intervention
		}
		target_root_trigger = {
			has_country_flag = FRA_non_intervention	
		}
		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				not = { has_government = democratic }
				factor = 0
			}
			modifier = {
				has_stability < 0.3
				factor = 5
			}
		}
		complete_effect = {
			FROM = {
				country_event = lar_non_intervention.1
			}
		}
	}

	FRA_allow_non_military_aid = {
		available = {  }
		icon = hol_draw_up_staff_plans
		visible = { not = { has_country_flag = FRA_non_military_aid_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_non_military_aid_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_non_military_aid_allowed
			clr_country_flag = FRA_non_intervention
			custom_effect_tooltip = FRA_non_military_aid_tt
			unlock_decision_tooltip = FRA_ban_non_military_aid
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.05
		}
	}

	FRA_ban_non_military_aid = {
		available = {  }

		visible = { has_country_flag = FRA_non_military_aid_allowed }

		complete_effect = {
			clr_country_flag = FRA_non_military_aid_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.3
				add = 5
			}
		}
	}

	FRA_send_non_military_aid_to_FROM = {
		available = {
			has_equipment = {
				support_equipment > 99
			}
		}
		icon = hol_draw_up_staff_plans
		visible = { has_country_flag = FRA_non_military_aid_allowed }
		target_root_trigger = { has_country_flag = FRA_non_military_aid_allowed }

		targets = { SPA SPR SPB SPC SPD }

		target_trigger = {
			FROM = {
				exists = yes
				has_war = yes
				NOT = { has_war_with = ROOT }
			}
		}
		days_re_enable = 30
		complete_effect = {
			send_equipment = {
				type = support_equipment
				amount = 100
				target = FROM
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = { has_government = ROOT }
				factor = 5
			}
		}
		cost = 0
	}
	FRA_allow_arms_purchases = {
		available = {  }
		icon = generic_industry
		visible = { not = { has_country_flag = FRA_arms_purchases_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_arms_purchases_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_arms_purchases_allowed
			clr_country_flag = FRA_non_intervention
			custom_effect_tooltip = FRA_allow_arms_purchases_tt
			unlock_decision_tooltip = FRA_ban_arms_purchases
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.4
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.1
			war_support_factor = 0.05
		}

	}

	FRA_ban_arms_purchases = {
		available = {  }

		visible = { has_country_flag = FRA_arms_purchases_allowed }

		complete_effect = {
			clr_country_flag = FRA_arms_purchases_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.4
				add = 5
			}
		}
	}

	FRA_allow_sending_weapons = {
		available = {  }
		icon = generic_prepare_civil_war
		visible = { not = { has_country_flag = FRA_sending_weapons_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_sending_weapons_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_sending_weapons_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_sending_weapons
		}

		cost = 25
		days_remove = -1
		modifier = {
			stability_factor = -0.15
			war_support_factor = 0.075
			lend_lease_tension = -1
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.45
				factor = 0
			}
		}
	}

	FRA_ban_sending_weapons = {
		available = {  }

		visible = { has_country_flag = FRA_sending_weapons_allowed }

		complete_effect = {
			clr_country_flag = FRA_sending_weapons_allowed
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.45
				add = 5
			}
		}
	}
	FRA_allow_volunteer_work = {
		icon = generic_shovels
		available = {  }

		visible = { not = { has_country_flag = FRA_volunteer_work_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_volunteer_work_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_volunteer_work_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_volunteer_work
			every_other_country = {
				limit = {
					OR = {
						tag = SPA
						tag = SPD
						tag = SPB
						tag = SPC
					}
					exists = yes
					NOT = { has_country_flag = FRA_has_received_volunteers }
				}
				country_event = lar_france_volunteers.1
			}
			custom_effect_tooltip = FRA_allow_volunteer_work_tt
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.5
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.2
			war_support_factor = 0.1
		}
	}

	FRA_ban_volunteer_work = {
		available = {  }

		visible = { has_country_flag = FRA_volunteer_work_allowed }

		complete_effect = {
			clr_country_flag = FRA_volunteer_work_allowed
		}
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.5
				add = 5
			}
		}
		cost = 0
	}
	FRA_allow_covert_intervention = {
		available = {  }
		icon = generic_ignite_civil_war
		visible = { not = { has_country_flag = FRA_covert_intervention_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_covert_intervention_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_covert_intervention_allowed
			clr_country_flag = FRA_non_intervention
			set_rule = { can_send_volunteers = yes }
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.55
				factor = 0
			}
			modifier = {
				has_stability < 0.8
				factor = 0.5
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.25
			war_support_factor = 0.125
			send_volunteers_tension = -0.9
		}
	}

	FRA_ban_covert_intervention = {
		available = {
			NOT = {
				any_other_country = {
					has_volunteers_amount_from = {
						tag = ROOT
						count > 0
					}
				}
			}
		}

		visible = { has_country_flag = FRA_covert_intervention_allowed }

		complete_effect = {
			clr_country_flag = FRA_covert_intervention_allowed
			#recall_volunteers_from = SPR
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.55
				add = 5
			}
		}
	}

	FRA_intervene_on_side_of_FROM = {
		available = { has_war_support > 0.25 }
		icon = generic_ignite_civil_war
		visible = { has_war = no }

		targets = { SPD SPA SPC SPB SPR }

		target_trigger = {
			FROM = {
				original_tag = SPR
				has_government = ROOT
			}
		}

		complete_effect = {
			every_country = {
				limit = { has_war_with = FROM }
				ROOT = {
					declare_war_on = {
						target = PREV
						type = topple_government
					}
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				add_to_faction = FROM
			}
			clr_country_flag = FRA_non_intervention
			if = {
				limit = {
					has_country_flag = FRA_covert_intervention_allowed
				}
				clr_country_flag = FRA_covert_intervention_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_volunteer_work_allowed
				}
				clr_country_flag = FRA_volunteer_work_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_sending_weapons_allowed
				}
				clr_country_flag = FRA_sending_weapons_allowed
			}
			if = {
				limit = { has_country_flag = FRA_non_military_aid_allowed }
				clr_country_flag = FRA_non_military_aid_allowed
			}
			if = {
				limit = { has_country_flag = FRA_arms_purchases_allowed }
				clr_country_flag = FRA_arms_purchases_allowed
			}

		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 0
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}
economy_decisions = {

	FRA_revoke_the_matignon_agreements = {
		visible = { 
			OR = {
				has_idea = FRA_matignon_agreements
				has_idea = FRA_matignon_agreements_further_the_reforms
				has_idea = FRA_matignon_agreements_reynaud_economic_reforms
			}
		}

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				has_war = no
				factor = 0
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_matignon_agreements
				}
				remove_ideas = FRA_matignon_agreements
			}
			if = {
				limit = {
					has_idea = FRA_matignon_agreements_further_the_reforms
				}
				remove_ideas = FRA_matignon_agreements_further_the_reforms
			}
			if = {
				limit = {
					has_idea = FRA_matignon_agreements_reynaud_economic_reforms
				}
				remove_ideas = FRA_matignon_agreements_reynaud_economic_reforms
			}
			if = {
				limit = {
					communism > 0.25
				}
				country_event = lar_france_political_violence.2
			}
		}
	}

	FRA_reorganize_aviation_industry_north = {
		available = {  }

		visible = { has_completed_focus = FRA_aircraft_manufacturer_nationalisation }

		remove_effect = {
			set_country_flag = FRA_SNCAN_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 29
						state = 785
						state = 15
						state = 16
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 50
		ai_will_do = {
			factor = 5
		}

	}
	FRA_reorganize_aviation_industry_west = {
		available = {  }

		visible = { has_completed_focus = FRA_aircraft_manufacturer_nationalisation }

		remove_effect = {
			set_country_flag = FRA_SNCAO_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 30
						state = 14
						state = 23
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 50
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_center = {
		available = {  }

		visible = { has_completed_focus = FRA_aircraft_manufacturer_nationalisation }

		remove_effect = {
			set_country_flag = FRA_SNCAC_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 24
						state = 33
						state = 27
						state = 26
						state = 25
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 50
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_east = {
		available = {  }

		visible = { has_completed_focus = FRA_aircraft_manufacturer_nationalisation }

		remove_effect = {
			set_country_flag = FRA_SNCASE_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 735
						state = 32
						state = 20
						state = 21
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 50
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_west = {
		available = {  }

		visible = { has_completed_focus = FRA_aircraft_manufacturer_nationalisation }

		remove_effect = {
			set_country_flag = FRA_SNCASO_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 22
						state = 31
						state = 19
						state = 25
					}
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 120
		cost = 50
		ai_will_do = {
			factor = 5
		}
	}
}
#political_actions = {
#	FRA_rally_the_leagues = {
#		available = { }
#
#		visible = {
#			has_completed_focus = FRA_far_right_leagues
#			NOT = { has_government = fascism }
#		}
#
#		days_re_enable = 60
#
#		complete_effect = {
#			add_popularity = {
#				ideology = fascism
#				popularity = 0.05
#			}
#			add_popularity = {
#				ideology = neutrality
#				popularity = 0.05
#			}
#			add_stability = -0.03
#		}
#		ai_will_do = {
#			factor = 5
#			modifier = {
#				has_stability < 0.3
#				factor = 0
#			}
#		}
#	}
#	FRA_unleash_la_cagoule = {
#		available = { }
#
#		visible = {
#			has_completed_focus = FRA_far_right_leagues
#			NOT = { has_government = fascism }
#		}
#		days_re_enable = 30
#		complete_effect = {
#			add_popularity = {
#				ideology = fascism
#				popularity = 0.1
#			}
#			add_stability = -0.075
#		}
#		cost = 25
#		ai_will_do = {
#			factor = 5
#			modifier = {
#				has_stability < 0.3
#				factor = 0
#			}
#		}
#	}
#}

VIC_darlan_influence = {

	test_give_darlan_influence = {
		allowed = { original_tag = FRA }
		cost = 0
		visible = {
			is_debug = yes
		}
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			custom_effect_tooltip = dalan_influence_growth_five_tt
			add_to_variable = { var = darlan_influence value = 5 }
		}
	}

	test_remove_darlan_influence = {
		allowed = { original_tag = FRA }
		cost = 0
		ai_will_do = {
			factor = 0
		}
		visible = {
			is_debug = yes
		}
		complete_effect = {
			custom_effect_tooltip = dalan_influence_decrease_five_tt
			subtract_from_variable = { var = darlan_influence value = 5 }
		}
	}
	
	VIC_appoint_darlan_as_petains_successor = {
		icon = eng_blackshirt_speech
		
		available = {
			has_stability > 0.49
		}
		
		visible = {
			NOT = { has_country_flag = laval_successor }
		}

		cost = 50

		fire_only_once = yes
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 50
				has_idea = FRA_françois_darlan_pm
			}
			modifier = {
				factor = 0
				amount_taken_ideas = {
					amount < 2
					slots = { 
						political_advisor
					}
				}
			}
		}
		complete_effect = {
			add_war_support = 0.05
			custom_effect_tooltip = dalan_influence_growth_ten_tt
			add_to_variable = { var = darlan_influence value = 10 }
			
			set_country_flag = darlan_successor
		}
	}
	
	VIC_appoint_laval_as_petains_successor = {
		icon = eng_blackshirt_speech
		
		available = {
			has_stability > 0.49
		}
		
		visible = {
			NOT = { has_country_flag = darlan_successor }
		}

		cost = 50

		fire_only_once = yes
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 50
				has_idea = FRA_pierre_laval_pm
			}
			modifier = {
				factor = 0
				amount_taken_ideas = {
					amount < 2
					slots = { 
						political_advisor
					}
				}
			}
		}
		complete_effect = {
			add_stability = 0.05
			custom_effect_tooltip = dalan_influence_decrease_ten_tt
			subtract_from_variable = { var = darlan_influence value = 1o }
			
			set_country_flag = laval_successor
		}
	}
}

VIC_concessions_to_the_germans = {
	VIC_basing_rights = {
		icon = generic_industry
		
		available = {

		}
		visible = {
			has_any_occupation_cost_trigger = yes
		}

		cost = 35

		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		complete_effect = {
			if = {
				limit = {
					has_character = FRA_françois_darlan
				}
				custom_effect_tooltip = dalan_influence_growth_five_tt
				add_to_variable = { var = darlan_influence value = 5 }
			}
			give_military_access = GER
			reduce_occupation_cost_effect = yes
		}
	}

	VIC_produce_aircraft_parts = {
		icon = generic_merge_plant_materiel
		
		available = {}

		visible = {
			has_any_occupation_cost_trigger = yes
		}

		cost = 25

		fire_only_once = yes
		ai_will_do = {
			factor = 2
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		complete_effect = {
			add_ideas = VIC_produce_aircraft_parts
			GER = { add_ideas = VIC_aircraft_parts }
			reduce_occupation_cost_effect = yes
		}
	}
	
	VIC_send_guest_workers = {
		icon = generic_political_discourse
		available = {

		}
		visible = { has_any_occupation_cost_trigger = yes }
		cancel_trigger = {
			not = { has_country_flag = VIC_send_guest_workers }
		}
		cost = 25
		ai_will_do = {
			factor = 2
			modifier = {
				has_idea = FRA_occupation_costs_4
				factor = 5
			}
			modifier = {
				has_idea = FRA_occupation_costs_3
				factor = 2
			}
			modifier = {
				has_idea = FRA_occupation_costs_2
				factor = 1.5
			}
		}
		fire_only_once = yes
		days_remove = -1
		modifier = {
			conscription_factor = -0.25
		}
		complete_effect = {
			GER = { add_ideas = VIC_guest_workers }
			reduce_occupation_cost_effect = yes
			set_country_flag = VIC_send_guest_workers
		}
	}
	
	VIC_recall_guest_workers = {
		icon = generic_political_discourse
		available = {
			has_country_flag = VIC_send_guest_workers
		}
		visible = {
		 	has_country_flag = VIC_send_guest_workers
		}
		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				controls_state = 16
				add = 10
			}
		}
		fire_only_once = yes
		complete_effect = {
			GER = { remove_ideas = VIC_guest_workers }
			if = {
				limit = {
					NOT = {
						controls_state = 16
					}
				}
				increase_occupation_cost_effect = yes
			}
			if = {
				limit = {
					controls_state = 16
					has_idea = FRA_mandatory_work_service
				}
				remove_ideas = FRA_mandatory_work_service
			}
			if = {
				limit = {
					controls_state = 16
					has_idea = FRA_mandatory_work_service1
				}
				remove_ideas = FRA_mandatory_work_service1
			}
			clr_country_flag = VIC_send_guest_workers
		}
	}
}

FRA_intervention_in_overseas_territories = {
	FRA_promise_independence_to_north_africa = {
		available = {
			NOT = {
				FRA_controls_north_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_north_africa }

		complete_effect = {
			set_country_flag = FRA_north_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				20 = {
					VIC = { country_event = LaR_france_vichy_notification_events.5 }
					FRA_transfer_north_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 461
								state = 462
								state = 459
								state = 513
								state = 860
								state = 460
								state = 458
								state = 665
							}
						}
						add_compliance = 5
					}
				}
				80 = {

				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_north_africa = {
		available = {
			NOT = {
				FRA_controls_north_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_north_africa
		}

		complete_effect = {
			set_country_flag = FRA_coup_in_north_africa_flag
			custom_effect_tooltip = FRA_prepare_coup_tt


		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0 #at least until we know the AI can handle it
		}
	}
	FRA_deal_with_darlan = {
	
		icon = generic_army_support
	
		allowed = {
			original_tag = FRA
		}
		
		available = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = ENG
			}
			VIC = {
				has_character = FRA_françois_darlan
				NOT = { has_country_leader = { character = FRA_françois_darlan ruling_only = yes } }
				
				#Darlan is influential but not powerful
				custom_trigger_tooltip = {
					tooltip = "Darlan is powerful enough to act independently."
					check_variable = { var = darlan_influence value = 20 compare = greater_than_or_equals }
					check_variable = { var = darlan_influence value = 35 compare = less_than }
				}
			}
		}
	
		visible = { 
			has_completed_focus = FRA_intervention_in_north_africa
		}
		
		fire_only_once = yes

		cost = 150

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.10.1
			}
		}

		complete_effect = {
			VIC = {
				country_event = { id = axis_minors_vichy_france_darlan_deal.1 hours = 12 }
			}
		}
	
	}
	FRA_operation_torch = {
	
		icon = generic_operation
	
		allowed = {
			original_tag = FRA
		}
		
		available = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = ENG
			}
			any_state = {
				#gameplay reasons
				NOT = {
					state = 268
				}
				is_on_continent = africa
				is_controlled_by = VIC
			}
		}
	
		visible = { 
			has_completed_focus = FRA_intervention_in_north_africa
		}
		
		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			
		}
	
	}
	
	FRA_promise_independence_to_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
		}

		visible = {
			has_completed_focus = FRA_intervention_in_syria
			NOT = {
				FRA_controls_syria = yes
			}
		}



		complete_effect = {
			set_country_flag = FRA_syria_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				30 = {
					VIC = { country_event = LaR_france_vichy_notification_events.1 }
					FRA_transfer_syria_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 677
								state = 680
								state = 554
								state = 553
							}
						}
						add_compliance = 5
					}
				}
				70 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}

	}
	FRA_prepare_coup_in_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_syria
			NOT = {
				FRA_controls_syria = yes
			}
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_syria_flag
		}

		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_syria = {
		available = {
			NOT = {
				FRA_controls_syria = yes
			}
			any_state = {
				OR = {
					state = 680
					state = 677
					state = 554
					state = 553
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_syria }



		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 680
						state = 677
						state = 554
						state = 553
					}
					not = { is_controlled_by = ROOT }
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "Syria Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"Gentforce 1\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Gentforce 2\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Gentforce 3\" division_template = \"Syria Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "Syria Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"Syria Defense Force 1\" division_template = \"Syria Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_syria_intervention.1
							on_lose = FRA_syria_intervention.2
							on_cancel = FRA_syria_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_syria_intervention.2
							on_lose = FRA_syria_intervention.1
							on_cancel = FRA_syria_intervention.3
						}
					}
				}
			}

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 10
		}

	}
	FRA_promise_independence_to_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_indochina }



		complete_effect = {
			set_country_flag = FRA_indochina_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				20 = {
					VIC = { country_event = LaR_france_vichy_notification_events.2 }
					FRA_transfer_indochina_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 671
								state = 670
								state = 286
								state = 741
								state = 851
								state = 852
								state = 853
								state = 854
								state = 855
							}
						}
						add_compliance = 5
					}
				}
				80 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_indochina
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_indochina_flag
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_indochina = {
		available = {
			NOT = {
				FRA_controls_indochina = yes
			}
			any_state = {
				OR = {
					state = 671
					state = 670
					state = 286
					state = 741
					state = 851
					state = 852
					state = 853
					state = 854
					state = 855
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_indochina }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 671
						state = 670
						state = 286
						state = 741
						state = 851
						state = 852
						state = 853
						state = 854
						state = 855
					}
					not = { is_controlled_by = ROOT }
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
				event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "Indochina Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"Indochina Force 1\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Indochina Force 2\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Indochina Force 3\" division_template = \"Indochina Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "Indochina Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"Indochina Defense Force 1\" division_template = \"Indochina Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_indochina_intervention.1
							on_lose = FRA_indochina_intervention.2
							on_cancel = FRA_indochina_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_indochina_intervention.2
							on_lose = FRA_indochina_intervention.1
							on_cancel = FRA_indochina_intervention.3
						}
					}
				}
			}

		}
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		cost = 25
	}
	FRA_promise_independence_to_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_central_africa }



		complete_effect = {
			set_country_flag = FRA_central_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				25 = {
					VIC = { country_event = LaR_france_vichy_notification_events.3 }
					FRA_transfer_central_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 772
								state = 539
								state = 773
								state = 660
								state = 774
							}
						}
						add_compliance = 5
					}
				}
				75 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}

	}
	FRA_prepare_coup_in_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_central_africa
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_central_africa_flag
		}

		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_central_africa = {
		available = {
			NOT = {
				FRA_controls_central_africa = yes
			}
			any_state = {
				OR = {
					state = 772
					state = 539
					state = 773
					state = 660
					state = 774
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_central_africa }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 772
						state = 539
						state = 773
						state = 660
						state = 774
					}
					not = { is_controlled_by = ROOT }
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "Central Africa Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"Central Africa Force 1\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 2\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 3\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 4\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"Central Africa Force 5\" division_template = \"Central Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "Central Africa Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"Central Africa Defense Force 1\" division_template = \"Central Africa Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_central_africa_intervention.1
							on_lose = FRA_central_africa_intervention.2
							on_cancel = FRA_central_africa_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_central_africa_intervention.2
							on_lose = FRA_central_africa_intervention.1
							on_cancel = FRA_central_africa_intervention.3
						}
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}	
	
	FRA_promise_independence_to_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_west_africa }



		complete_effect = {
			set_country_flag = FRA_west_africa_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				25 = {
					VIC = { country_event = LaR_france_vichy_notification_events.4 }
					FRA_transfer_western_africa_effect = yes
					every_owned_state = {
						limit = {
							is_controlled_by = ROOT
							OR = {
								state = 557
								state = 272
								state = 556
								state = 780
								state = 779
								state = 778
								state = 781
								state = 776
								state = 777 	#Togo too
							}
						}
						add_compliance = 5
					}
				}
				75 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_west_africa
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_west_africa_flag

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
	FRA_invasion_in_west_africa = {
		available = {
			NOT = {
				FRA_controls_west_africa = yes
			}
			any_state = {
				OR = {
						state = 557
						state = 272
						state = 556
						state = 780
						state = 779
						state = 778
						state = 781
						state = 776
						state = 777 	#Togo too
				}
				any_neighbor_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_west_africa }

		complete_effect = {
			random_state = { #find a neighbouring state of Syria that is controlled by an ally or ourselves
				limit = {
					OR = {
						state = 557
						state = 272
						state = 556
						state = 780
						state = 779
						state = 778
						state = 781
						state = 776
						state = 777 	#Togo too
					}
					not = { is_controlled_by = ROOT }
					any_neighbor_state = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
				save_event_target_as = FRA_defender_state
				random_neighbor_state = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
					save_event_target_as = FRA_attacker_state
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					division_template = {
						name = "West Africa Intervention Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_attacker_state = { #set up attacker unit(s)
						create_unit = {
							division = "name = \"West Africa Force 1\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 2\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 3\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 4\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
						create_unit = {
							division = "name = \"West Africa Force 5\" division_template = \"West Africa Intervention Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_defender_state = { #set up defender unit(s)
				CONTROLLER = {
					division_template = {
						name = "West Africa Defense Force"
						division_names_group = FRA_INF_01
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = {x = 0 y = 1 }
						}
					}
					event_target:FRA_defender_state = { #set up defenders
						create_unit = {
							division = "name = \"West Africa Defense Force 1\" division_template = \"West Africa Defense Force\" start_experience_factor = 0.5"
							owner = PREV
						}
					}
				}
			}
			event_target:FRA_attacker_state = {
				CONTROLLER = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = event_target:FRA_attacker_state
							num_provinces = 4
							on_win = FRA_west_africa_intervention.1
							on_lose = FRA_west_africa_intervention.2
							on_cancel = FRA_west_africa_intervention.3
						}
						defender = {
							state = event_target:FRA_defender_state
							num_provinces = 4
							on_win = FRA_west_africa_intervention.2
							on_lose = FRA_west_africa_intervention.1
							on_cancel = FRA_west_africa_intervention.3
						}
					}
				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 10
		}
	}

	FRA_promise_independence_to_madagascar = {
		available = {
			NOT = {
				543 = {
					OR = {
						is_controlled_by = ROOT
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
			}
		}

		visible = { has_completed_focus = FRA_intervention_in_madagascar }

		complete_effect = {
			set_country_flag = FRA_madagascar_promised_independence
			custom_effect_tooltip = FRA_promise_independence_tt
			random_list = {
				30 = {
					VIC = { country_event = LaR_france_vichy_notification_events.6 }
					transfer_state = 543
					543 = {
						add_compliance = 5
					}
				}
				70 = {}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 3
		}
	}
	FRA_prepare_coup_in_madagascar = {
		available = {
			NOT = {
				543 = {
					OR = {
						is_controlled_by = ROOT
						CONTROLLER = {
							is_subject_of = ROOT
						}
					}
				}
			}
			has_intelligence_agency = yes
		}

		visible = {
			has_completed_focus = FRA_intervention_in_madagascar
		}

		complete_effect = {
			custom_effect_tooltip = FRA_prepare_coup_tt
			set_country_flag = FRA_coup_in_madagascar_flag

		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 0
		}
	}
}

FRA_decolonization = {
	FRA_independence_for_syria_mission = {
		available = {
			country_exists = LEB
			country_exists = SYR
		}

		activation = {
			has_country_flag = FRA_syria_promised_independence
			has_war = no
			NOT = {
				country_exists = SYR
				country_exists = LEB
			}
			680 = { is_controlled_by = ROOT }
			677 = { is_controlled_by = ROOT }
			554 = { is_controlled_by = ROOT }
			553 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LEB
						is_core_of = SYR
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_indochina_mission = {
		available = {
			country_exists = LAO
			country_exists = CAM
			country_exists = VIN
		}

		activation = {
			has_country_flag = FRA_indochina_promised_independence
			has_war = no
			NOT = {
				country_exists = CAM
				country_exists = LAO
				country_exists = VIN
			}
			671 = { is_controlled_by = ROOT }
			670 = { is_controlled_by = ROOT }
			286 = { is_controlled_by = ROOT }
			741 = { is_controlled_by = ROOT }
			851 = { is_controlled_by = ROOT }
			852 = { is_controlled_by = ROOT }
			853 = { is_controlled_by = ROOT }
			854 = { is_controlled_by = ROOT }
			855 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LAO
						is_core_of = CAM
						is_core_of = VIN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_madagascar_mission = {
		available = {
			country_exists = MAD
		}

		activation = {
			has_country_flag = FRA_madagascar_promised_independence
			has_war = no
			NOT = {
				country_exists = MAD
			}
			543 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			543 = {
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_north_africa_mission = {
		available = {
			country_exists = ALG
			country_exists = MOR
			country_exists = TUN
		}

		activation = {
			has_country_flag = FRA_north_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = MOR
				country_exists = ALG
				country_exists = TUN
			}
			461 = { is_controlled_by = ROOT }
			462 = { is_controlled_by = ROOT }
			459 = { is_controlled_by = ROOT }
			513 = { is_controlled_by = ROOT }
			860 = { is_controlled_by = ROOT }
			460 = { is_controlled_by = ROOT }
			458 = { is_controlled_by = ROOT }
			665 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ALG
						is_core_of = MOR
						is_core_of = TUN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_west_africa_mission = {
		available = {
			country_exists = NGR
			country_exists = DAH
			country_exists = TOG
			country_exists = VOL
			country_exists = IVO
			country_exists = MLI
			country_exists = GNA
			country_exists = SEN
			country_exists = MRT

		}

		activation = {
			has_country_flag = FRA_west_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = NGR
				country_exists = DAH
				country_exists = TOG
				country_exists = VOL
				country_exists = IVO
				country_exists = MLI
				country_exists = GNA
				country_exists = SEN
				country_exists = MRT
			}
			FRA_controls_west_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = NGR
						is_core_of = DAH
						is_core_of = TOG
						is_core_of = VOL
						is_core_of = IVO
						is_core_of = MLI
						is_core_of = GNA
						is_core_of = SEN
						is_core_of = MRT
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_central_africa_mission = {
		available = {
			country_exists = RCG
			country_exists = GAB
			country_exists = CAR
			country_exists = CMR
			country_exists = CHA

		}

		activation = {
			has_country_flag = FRA_central_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = RCG
				country_exists = GAB
				country_exists = CAR
				country_exists = CMR
				country_exists = CHA
			}
			FRA_controls_central_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = RCG
						is_core_of = GAB
						is_core_of = CAR
						is_core_of = CMR
						is_core_of = CHA
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
}

# Economic reforms to decrease deflation
FRA_economic_reforms = {
	FRA_devaluation = {

		icon = ger_mefo_bills

		fire_only_once = no

		modifier = {
			consumer_goods_factor = 0.05
			#industrial_capacity_factory = -0.1
			political_power_gain = -0.2
		}

		days_remove = 120
		days_re_enable = 0

		cost = 0
		ai_will_do = {
			factor = 100
		}

		visible = {
			OR = {
				has_idea = FRA_deflation1
				has_idea = FRA_deflation2
				has_idea = FRA_deflation3
				has_idea = FRA_deflation4
				has_idea = FRA_deflation5
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_deflation5
				}
				remove_ideas = FRA_deflation5
			}
			if = {
				limit = {
					has_idea = FRA_deflation4
				}
				swap_ideas = {
					add_idea = FRA_deflation5
					remove_idea = FRA_deflation4
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation3
				}
				swap_ideas = {
					add_idea = FRA_deflation4
					remove_idea = FRA_deflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation2
				}
				swap_ideas = {
					add_idea = FRA_deflation3
					remove_idea = FRA_deflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation1
				}
				swap_ideas = {
					add_idea = FRA_deflation2
					remove_idea = FRA_deflation1
				}
			}

		}
	}

	FRA_budget_deficit_law = {

		icon = eng_trade_unions_support

		fire_only_once = yes

		cost = 100
		ai_will_do = {
			factor = 100
		}

		visible = {
			OR = {
				has_idea = FRA_deflation1
				has_idea = FRA_deflation2
				has_idea = FRA_deflation3
				has_idea = FRA_deflation4
				has_idea = FRA_deflation5
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_deflation5
				}
				remove_ideas = FRA_deflation5
			}
			if = {
				limit = {
					has_idea = FRA_deflation4
				}
				swap_ideas = {
					add_idea = FRA_deflation5
					remove_idea = FRA_deflation4
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation3
				}
				swap_ideas = {
					add_idea = FRA_deflation4
					remove_idea = FRA_deflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation2
				}
				swap_ideas = {
					add_idea = FRA_deflation3
					remove_idea = FRA_deflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation1
				}
				swap_ideas = {
					add_idea = FRA_deflation2
					remove_idea = FRA_deflation1
				}
			}
		}
	}

	FRA_exchange_rate_stabilisation = {

		icon = generic_scales

		fire_only_once = yes

		cost = 100
		ai_will_do = {
			factor = 100
		}

		visible = {
			OR = {
				has_idea = FRA_deflation1
				has_idea = FRA_deflation2
				has_idea = FRA_deflation3
				has_idea = FRA_deflation4
				has_idea = FRA_deflation5
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_deflation5
				}
				remove_ideas = FRA_deflation5
			}
			if = {
				limit = {
					has_idea = FRA_deflation4
				}
				swap_ideas = {
					add_idea = FRA_deflation5
					remove_idea = FRA_deflation4
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation3
				}
				swap_ideas = {
					add_idea = FRA_deflation4
					remove_idea = FRA_deflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation2
				}
				swap_ideas = {
					add_idea = FRA_deflation3
					remove_idea = FRA_deflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation1
				}
				swap_ideas = {
					add_idea = FRA_deflation2
					remove_idea = FRA_deflation1
				}
			}
		}
	}

	FRA_agriculture_national_office = {

		icon = generic_shovels

		fire_only_once = yes

		cost = 100
		ai_will_do = {
			factor = 100
		}

		visible = {
			OR = {
				has_idea = FRA_deflation1
				has_idea = FRA_deflation2
				has_idea = FRA_deflation3
				has_idea = FRA_deflation4
				has_idea = FRA_deflation5
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_deflation5
				}
				remove_ideas = FRA_deflation5
			}
			if = {
				limit = {
					has_idea = FRA_deflation4
				}
				swap_ideas = {
					add_idea = FRA_deflation5
					remove_idea = FRA_deflation4
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation3
				}
				swap_ideas = {
					add_idea = FRA_deflation4
					remove_idea = FRA_deflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation2
				}
				swap_ideas = {
					add_idea = FRA_deflation3
					remove_idea = FRA_deflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation1
				}
				swap_ideas = {
					add_idea = FRA_deflation2
					remove_idea = FRA_deflation1
				}
			}
		}
	}

	FRA_national_department_state_market = {

		icon = hol_attract_foreign_investors

		fire_only_once = yes

		cost = 25
		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_country_leader = { character = FRA_edouard_daladier ruling_only = yes }
				has_country_leader = { character = FRA_paul_reynaud ruling_only = yes }
			}
			NOT = { has_global_flag = front_explosed }
		}

		visible = {
			has_government = democratic
			OR = {
				has_idea = FRA_deflation1
				has_idea = FRA_deflation2
				has_idea = FRA_deflation3
				has_idea = FRA_deflation4
				has_idea = FRA_deflation5
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = FRA_deflation5
				}
				remove_ideas = FRA_deflation5
			}
			if = {
				limit = {
					has_idea = FRA_deflation4
				}
				swap_ideas = {
					add_idea = FRA_deflation5
					remove_idea = FRA_deflation4
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation3
				}
				swap_ideas = {
					add_idea = FRA_deflation4
					remove_idea = FRA_deflation3
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation2
				}
				swap_ideas = {
					add_idea = FRA_deflation3
					remove_idea = FRA_deflation2
				}
			}
			if = {
				limit = {
					has_idea = FRA_deflation1
				}
				swap_ideas = {
					add_idea = FRA_deflation2
					remove_idea = FRA_deflation1
				}
			}
		}
	}

	FRA_bank_france = {

		icon = generic_civil_support

		fire_only_once = yes

		modifier = {
			political_power_gain = 0.25
			stability_factor = -0.10
		}

		days_remove = 360

		cost = 25
		ai_will_do = {
			factor = 100
		}

		available = {
			OR = {
				has_country_leader = { character = FRA_léon_blum ruling_only = yes }
				has_government = communism
				has_government = fascism
			}
			NOT = { has_global_flag = front_explosed }
		}

		visible = {
			has_government = democratic
			has_government = communism
			has_government = fascism
		}

		complete_effect = {

		}
	}

}

# Decisions to gains military factories
FRA_nationalisation = {

	FRA_nationalize_industy = {

		icon = generic_construction

		fire_only_once = no

		modifier = {

		}

		days_remove = 90
		days_re_enable = 0

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = FRA_defense_national_funds
			NOT = {
				has_country_flag = FRA_nationalize_industy_3
			}
		}

		available = {
			NOT = {
				has_country_flag = FRA_nationalisation_cd
			}
		}

		complete_effect = {
			set_country_flag = { flag = FRA_nationalisation_cd value = 1 days = 90 }
			if = {
				limit = {
					has_country_flag = FRA_nationalize_industy_2
					NOT = { has_country_flag = FRA_nationalize_industy_3 }
				}
				add_offsite_building = { type = industrial_complex level = 4 }
				set_country_flag = { flag = FRA_nationalize_industy_3 value = 1 }
				set_country_flag = { flag = radiola_nat value = 1 }
				set_country_flag = { flag = cfp_nat value = 1 }
				set_country_flag = { flag = bull_nat value = 1 }
			}
			if = {
				limit = {
					has_country_flag = FRA_nationalize_industy_1
					NOT = { has_country_flag = FRA_nationalize_industy_2 }
				}
				add_offsite_building = { type = industrial_complex level = 3 }
				set_country_flag = { flag = FRA_nationalize_industy_2 value = 1 }
				set_country_flag = { flag = normandie_nat value = 1 }
				set_country_flag = { flag = famh_nat value = 1 }
				set_country_flag = { flag = poulenc_nat value = 1 }
			}
			if = {
				limit = {
					NOT = { has_country_flag = FRA_nationalize_industy_1 }
				}
				add_offsite_building = { type = industrial_complex level = 2 }
				set_country_flag = { flag = FRA_nationalize_industy_1 value = 1 }
				set_country_flag = { flag = csf_nat value = 1 }
				set_country_flag = { flag = vetra_nat value = 1 }
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support8
				}
				swap_ideas = {
					add_idea = FRA_industrial_support9
					remove_idea = FRA_industrial_support8
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support7
				}
				swap_ideas = {
					add_idea = FRA_industrial_support8
					remove_idea = FRA_industrial_support7
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support6
				}
				swap_ideas = {
					add_idea = FRA_industrial_support7
					remove_idea = FRA_industrial_support6
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support5
				}
				swap_ideas = {
					add_idea = FRA_industrial_support6
					remove_idea = FRA_industrial_support5
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support4
				}
				swap_ideas = {
					add_idea = FRA_industrial_support5
					remove_idea = FRA_industrial_support4
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support3
				}
				swap_ideas = {
					add_idea = FRA_industrial_support4
					remove_idea = FRA_industrial_support3
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support2
				}
				swap_ideas = {
					add_idea = FRA_industrial_support3
					remove_idea = FRA_industrial_support2
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support1
				}
				swap_ideas = {
					add_idea = FRA_industrial_support2
					remove_idea = FRA_industrial_support1
				}
			}
		}
	}

	FRA_nationalize_military_complex = {

		icon = ger_military_buildup

		fire_only_once = no

		modifier = {

		}

		days_remove = 90
		days_re_enable = 0

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = FRA_military_complex_nationalisation
			NOT = {
				has_country_flag = FRA_nationalize_military_complex_3
			}
		}

		available = {
			NOT = {
				has_country_flag = FRA_nationalisation_cd
			}
		}

		complete_effect = {
			set_country_flag = { flag = FRA_nationalisation_cd value = 1 days = 90 }
			if = {
				limit = {
					has_country_flag = FRA_nationalize_military_complex_2
					NOT = { has_country_flag = FRA_nationalize_military_complex_3 }
				}
				add_offsite_building = { type = arms_factory level = 4 }
				set_country_flag = { flag = FRA_nationalize_military_complex_3 value = 1 }
				set_country_flag = { flag = darne_nat value = 1 }
				set_country_flag = { flag = schneider_nat value = 1 }
				set_country_flag = { flag = tunis_nat value = 1 }
				set_country_flag = { flag = citroen_nat value = 1 }
				set_country_flag = { flag = peugeot_nat value = 1 }
				set_country_flag = { flag = renault_nat value = 1 }
			}
			if = {
				limit = {
					has_country_flag = FRA_nationalize_military_complex_1
					NOT = { has_country_flag = FRA_nationalize_military_complex_2 }
				}
				add_offsite_building = { type = arms_factory level = 3 }
				set_country_flag = { flag = FRA_nationalize_military_complex_2 value = 1 }
				set_country_flag = { flag = bayonne_nat value = 1 }
				set_country_flag = { flag = puteaux_nat value = 1 }
				set_country_flag = { flag = bouton_nat value = 1 }
				set_country_flag = { flag = dietrich_nat value = 1 }
				set_country_flag = { flag = berliet_nat value = 1 }
				set_country_flag = { flag = delaunay_nat value = 1 }
			}
			if = {
				limit = {
					NOT = { has_country_flag = FRA_nationalize_military_complex_1 }
				}
				add_offsite_building = { type = arms_factory level = 2 }
				set_country_flag = { flag = FRA_nationalize_military_complex_1 value = 1 }
				set_country_flag = { flag = mas_nat value = 1 }
				set_country_flag = { flag = hotchkiss_nat value = 1 }
				set_country_flag = { flag = somua_nat value = 1 }
				set_country_flag = { flag = AMX_nat value = 1 }
				set_country_flag = { flag = panhard_nat value = 1 }
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support8
				}
				swap_ideas = {
					add_idea = FRA_industrial_support9
					remove_idea = FRA_industrial_support8
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support7
				}
				swap_ideas = {
					add_idea = FRA_industrial_support8
					remove_idea = FRA_industrial_support7
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support6
				}
				swap_ideas = {
					add_idea = FRA_industrial_support7
					remove_idea = FRA_industrial_support6
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support5
				}
				swap_ideas = {
					add_idea = FRA_industrial_support6
					remove_idea = FRA_industrial_support5
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support4
				}
				swap_ideas = {
					add_idea = FRA_industrial_support5
					remove_idea = FRA_industrial_support4
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support3
				}
				swap_ideas = {
					add_idea = FRA_industrial_support4
					remove_idea = FRA_industrial_support3
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support2
				}
				swap_ideas = {
					add_idea = FRA_industrial_support3
					remove_idea = FRA_industrial_support2
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support1
				}
				swap_ideas = {
					add_idea = FRA_industrial_support2
					remove_idea = FRA_industrial_support1
				}
			}
		}
	}

	FRA_nationalize_aircraft = {

		icon = generic_air

		fire_only_once = no

		modifier = {

		}

		days_remove = 90
		days_re_enable = 0

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = FRA_aircraft_manufacturer_nationalisation
			NOT = {
				has_country_flag = FRA_nationalize_aircraft_3
			}
		}

		available = {
			NOT = {
				has_country_flag = FRA_nationalisation_cd
			}
		}

		complete_effect = {
			set_country_flag = { flag = FRA_nationalisation_cd value = 1 days = 90 }
			if = {
				limit = {
					has_country_flag = FRA_nationalize_aircraft_2
					NOT = { has_country_flag = FRA_nationalize_aircraft_3 }
				}
				add_offsite_building = { type = arms_factory level = 4 }
				set_country_flag = { flag = FRA_nationalize_aircraft_3 value = 1 }
				set_country_flag = { flag = morane_saulnier_nat value = 1 }
				set_country_flag = { flag = amiot_nat value = 1 }
				set_country_flag = { flag = latecoere_nat value = 1 }
				set_country_flag = { flag = dakar_nat value = 1 }
				set_country_flag = { flag = penhoet_nat value = 1 }
				set_country_flag = { flag = fcm_nat value = 1 }
			}
			if = {
				limit = {
					has_country_flag = FRA_nationalize_aircraft_1
					NOT = { has_country_flag = FRA_nationalize_aircraft_2 }
				}
				add_offsite_building = { type = arms_factory level = 3 }
				set_country_flag = { flag = FRA_nationalize_aircraft_2 value = 1 }
				set_country_flag = { flag = dewoitine_nat value = 1 }
				set_country_flag = { flag = potez_nat value = 1 }
				set_country_flag = { flag = fouga_nat value = 1 }
				set_country_flag = { flag = levasseur_nat value = 1 }
				set_country_flag = { flag = loire_nat value = 1 }
				set_country_flag = { flag = brest_nat value = 1 }
			}
			if = {
				limit = {
					NOT = { has_country_flag = FRA_nationalize_aircraft_1 }
				}
				add_offsite_building = { type = arms_factory level = 2 }
				set_country_flag = { flag = FRA_nationalize_aircraft_1 value = 1 }
				set_country_flag = { flag = bleriot_nat value = 1 }
				set_country_flag = { flag = bloch_nat value = 1 }
				set_country_flag = { flag = amiot_nat value = 1 }
				set_country_flag = { flag = oran_nat value = 1 }
				set_country_flag = { flag = caer_nat value = 1 }
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support8
				}
				swap_ideas = {
					add_idea = FRA_industrial_support9
					remove_idea = FRA_industrial_support8
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support7
				}
				swap_ideas = {
					add_idea = FRA_industrial_support8
					remove_idea = FRA_industrial_support7
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support6
				}
				swap_ideas = {
					add_idea = FRA_industrial_support7
					remove_idea = FRA_industrial_support6
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support5
				}
				swap_ideas = {
					add_idea = FRA_industrial_support6
					remove_idea = FRA_industrial_support5
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support4
				}
				swap_ideas = {
					add_idea = FRA_industrial_support5
					remove_idea = FRA_industrial_support4
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support3
				}
				swap_ideas = {
					add_idea = FRA_industrial_support4
					remove_idea = FRA_industrial_support3
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support2
				}
				swap_ideas = {
					add_idea = FRA_industrial_support3
					remove_idea = FRA_industrial_support2
				}
			}
			if = {
				limit = {
					has_idea = FRA_industrial_support1
				}
				swap_ideas = {
					add_idea = FRA_industrial_support2
					remove_idea = FRA_industrial_support1
				}
			}
		}
	}

}

FRA_4th_international = {

	FRA_support_ENG = {

		icon = generic_civil_support

		allowed = {
			original_tag = FRA
		}

		available = {
			has_government = communism
			NOT = {
				ENG = {
					has_idea = comintern_influence
				}
			}
		}

		target_trigger = {
			FROM = {
				original_tag = ENG
				has_civil_war = no
			}
		}

		cost = 75

		ai_will_do = {
			factor = 200
		}

		visible = {
			original_tag = FRA
			OR = {
				has_completed_focus = FRA_humanite_unie
				AND = {
					is_in_faction_with = SOV
					SOV = {
						has_country_leader = { 
							character = SOV_lev_trotsky 
							ruling_only = yes
						}
					}
				}
			}
		}

		complete_effect = {
			ENG = {
				add_timed_idea = { idea = comintern_influence days = 720 }
			}
		}
	}

	FRA_support_communism_FROM = {

		icon = generic_civil_support

		allowed = {
			original_tag = FRA
		}

		target_trigger = {
			FROM = {
				OR = {
					original_tag = BEL
					original_tag = LUX
					original_tag = IRE
					original_tag = WLS
					original_tag = SCO
					original_tag = BRI
					original_tag = COR
				}
				has_civil_war = no
			}
		}

		available = {
			has_government = communism
			NOT = {
				FROM = {
					has_idea = comintern_influence
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 200
		}

		visible = {
			original_tag = FRA
			OR = {
				has_completed_focus = FRA_humanite_unie
				AND = {
					is_in_faction_with = SOV
					SOV = {
						has_country_leader = { 
							character = SOV_lev_trotsky 
							ruling_only = yes
						}
					}
				}
			}
		}

		complete_effect = {
			FROM = {
				add_timed_idea = { idea = comintern_influence days = 720 }
			}
		}
	}
}

foreign_politics = {

	#Decision for Italy to demand french claims from VIC
	ITA_demand_italian_french_claims = {
	
		allowed = {
			original_tag = ITA
		}
	
		available = {
			is_subject = no
			has_capitulated = no
			16 = { NOT = { is_controlled_by = FRA } } #Paris has fallen
			OR = {
				735 = { 
					CONTROLLER = { 
						NOT = {
							tag = ITA
							has_war_with = ROOT
						}
					} 
				}
				1 = { 
					CONTROLLER = { 
						NOT = {
							tag = ITA
							has_war_with = ROOT
						}
					} 
				}
				665 = { 
					CONTROLLER = { 
						NOT = {
							tag = ITA
							has_war_with = ROOT
						}
					} 
				}
				458 = { 
					CONTROLLER = { 
						NOT = {
							tag = ITA
							has_war_with = ROOT
						}
					} 
				}
			}
			
			always = no
		}

		visible = {
			VIC = {
				exists = yes
				OR = {
					is_guaranteed_by = GER
					is_in_faction_with = GER
				}
			}
			is_in_faction_with = GER
			
			NOT = {
				AND = {
					735 = {
						is_owned_by = ITA
					}
					1 = { 
						is_owned_by = ITA 
					}
					665 = { 
						is_owned_by = ITA
					}
					458 = { 
						is_owned_by = ITA
					}
				}
			}
		}

		fire_only_once = yes


		modifier = {

		}

		cost = 75

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FRA = { has_war = no }
			}			
			modifier = {
				factor = 3
				FRA = { has_war = yes } 
				strength_ratio = {
					tag = FRA
					ratio > 0.9
				}
			}
			
		}

		complete_effect = {
			VIC = { country_event = { id = r56_france_italian_claims.1 hours = 6 } }
		}
		
	}

}