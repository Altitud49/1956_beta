#####---------------------------------------------------------------------> Mod by Sig "GreatExperiment" Altre

war_measures = {
	r56_GER_decision_support_eugen_meindl = {
	
		icon = generic_operation
	
		cost = 50
        fire_only_once = yes
		
		days_remove = 20
		
		custom_cost_text = frederick_browning_decision_cost
		custom_cost_trigger = {
			has_army_experience > 24
			has_air_experience > 24
			has_political_power > 24
		}
		
		allowed = {
			tag = GER
		}
	
		available = {
			has_army_experience > 24
			has_air_experience > 24

			has_tech = paratroopers 

		}
		
		visible = {
			tag = GER
		}
		
		remove_effect = {
			create_corps_commander = {
				name = "Eugen Meindl"
				portrait_path = "gfx/leaders/GER/r56_portrait_GER_Eugen_Meindl.dds"
				traits = { air_force_ties jumping_general commando paratrooper }
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
			}
		}		
		complete_effect = {
			army_experience = -25
			air_experience = -25					
			add_political_power = -25
		}
	}	
}


#ya boi Darkneon312 starts here

GER_western_cooperation = {
	
	GER_economic_agreement = {

		icon = eng_trade_unions_support

		available = {
			NOT = { has_country_flag = ger_economic_agreement_signed }
			FROM = {
				exists = yes
				has_government = democratic
			}
		}

		visible = {
			
		}

		target_trigger = {
			FROM = {
				OR = {
					tag = ENG
					tag = FRA
					tag = USA
				}
				exists = yes
				has_government = democratic
				if = {
					limit = {
						tag = USA
					}
					NOT = {
						has_country_flag = ger_usa_signed_agreement
					}
				}
				if = {
					limit = {
						tag = FRA
					}
					NOT = {
						has_country_flag = ger_fra_signed_agreement
					}
				}
				if = {
					limit = {
						tag = ENG
					}
					NOT = {
						has_country_flag = ger_eng_signed_agreement
					}
				}
			}
		}

		days_remove = 70
		days_re_enable = 70

		fire_only_once = yes

		cost = 75

		modifier = {
			
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ger_economic_agreement_signed"
			set_country_flag = ger_economic_agreement_signed
			FROM = {
				country_event = r56_germany.11
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ger_economic_agreement_signed"
			clr_country_flag = ger_economic_agreement_signed
		}

		ai_will_do = {
			factor = 1
		}
	}
	
}

GER_european_reconciliation = {
	
	GER_industrial_investments = {

		icon = eng_trade_unions_support

		available = {
			NOT = { has_country_flag = ger_is_investmenting }
			FROM = {
				exists = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
		}

		visible = {
			
		}

		target_trigger = {
			FROM = {
				OR = {
					tag = LIT
					tag = POL
					tag = CZE
				}
				exists = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				if = {
					limit = {
						tag = LIT
					}
					NOT = {
						has_country_flag = ger_lit_invested
					}
				}
				if = {
					limit = {
						tag = CZE
					}
					NOT = {
						has_country_flag = ger_cze_invested
					}
				}
				if = {
					limit = {
						tag = POL
					}
					NOT = {
						has_country_flag = ger_pol_invested
					}
				}
			}
		}

		days_remove = 35
		days_re_enable = 35

		fire_only_once = yes

		cost = 50

		modifier = {
			
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ger_is_investmenting"
			set_country_flag = ger_is_investmenting
			FROM = {
				country_event = r56_germany.13
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ger_is_investmenting"
			clr_country_flag = ger_is_investmenting
		}

		ai_will_do = {
			factor = 1
		}
	}
	
}

GER_anti_communist_bloc = {
	
	GER_invite_countries = {

		icon = eng_trade_unions_support

		available = {
			NOT = { has_country_flag = ger_is_inviting }
			FROM = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = GER }
				NOT = { is_in_faction_with = SOV }
			}
		}

		visible = {
			
		}
		
		targets = { FIN EST LAT LIT POL ROM HUN BUL }

		target_trigger = {
			#FROM = {
			#	NOT = { has_war_with = GER }
			#	NOT = { is_in_faction_with = SOV }
			#	is_subject = no
			#	#OR = {
			#		capital_scope = {
			#			is_on_continent = europe
			#		}
			#		#capital_scope = {
			#		#	is_on_continent = asia
			#		#}
			#		#num_of_factories > 30
			#	#}
			#	AND = {
			#		is_neighbor_of = SOV
			#		NOT = { has_government = communism }
			#	}
			#}
			FROM = {
				OR = {
					original_tag = FIN
					original_tag = EST
					original_tag = LAT
					original_tag = LIT
					original_tag = POL
					original_tag = ROM
					original_tag = HUN
					original_tag = BUL
					#original_tag = CZE
				}
				exists = yes
				is_subject = no
				NOT = { has_war_with = GER }
				NOT = { is_in_faction_with = SOV }
				NOT = { is_in_faction_with = GER }
				#is_neighbor_of = SOV
				NOT = { has_government = communism }
			}
		}

		days_remove = 50
		days_re_enable = 50

		fire_only_once = yes

		cost = 25

		modifier = {
			
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ger_is_inviting"
			set_country_flag = ger_is_inviting
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ger_is_inviting"
			clr_country_flag = ger_is_inviting
			FROM = {
				country_event = generic.5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	GER_prepare_uprisings = {

		icon = generic_political_discourse

		available = {
			has_idea = GER_wilhelm_canaris
			NOT = { has_war_with = SOV }
		}

		visible = {
			
		}

		days_remove = 300
		#days_re_enable = 

		fire_only_once = yes

		cost = 25

		modifier = {
			
		}

		complete_effect = {
			
		}
		remove_effect = {
			set_country_flag = ger_uprisings_ready
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	GER_start_the_uprisings = {

		icon = generic_ignite_civil_war

		available = {
			has_idea = GER_wilhelm_canaris
			has_war_with = SOV
		}

		visible = {
			has_country_flag = ger_uprisings_ready
		}

		#days_remove = 1
		#days_re_enable = 

		fire_only_once = yes

		cost = 0

		modifier = {
			
		}

		complete_effect = {
			SOV = {
				country_event = r56_germany.42
			}
		}
		remove_effect = {
			
		}

		ai_will_do = {
			factor = 1
		}
	}
}

political_actions = {

	GER_revive_the_stahlhelm = {
	
		icon = generic_army_support
	
		cost = 100
        fire_only_once = yes
		
		days_remove = 35
		
		allowed = {
			tag = GER
		}
	
		available = {
			has_completed_focus = GER_reempower_the_reichstag
		}
		
		visible = {
			has_completed_focus = GER_reempower_the_reichstag
		}
		
		remove_effect = {
			add_ideas = GER_stahlhelm
		}		
		complete_effect = {
			
		}
	}
	
	GER_depoliticize_the_military_decision = {
	
		icon = generic_army_support
	
		cost = 100
        fire_only_once = yes
		
		days_remove = 35
		
		allowed = {
			tag = GER
		}
	
		available = {
			has_idea = GER_disloyal_military
		}
		
		visible = {
			has_idea = GER_disloyal_military
		}
		
		remove_effect = {
			remove_ideas = GER_disloyal_military
			add_timed_idea = {
				idea = GER_depoliticize_the_military
				days = 180
			}
		}		
		complete_effect = {
			
		}
	}
	
}

GER_interservice_rivalry = {
	
	GER_LWFD = {

		icon = eng_puppet_usa

		available = {
			NOT = {
				has_country_flag = GER_war_conferences_cd
			}
			NOT = {
				has_country_flag = GER_waffen_SS
			}
		}
		visible = {
			NOT = {
				has_country_flag = GER_waffen_SS
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
		}
		modifier = {
			special_forces_cap = 0.02
		}
		complete_effect = {
			set_country_flag = { flag = GER_war_conferences_cd value = 1 days = 180 }
			set_country_flag = GER_LWFD
			add_tech_bonus = {
				name = GER_LWFD
				bonus = 3.0
				uses = 1
				category = para_tech
			}
			#JAP_interservice_rivalry_towards_army = yes
		}
	}
	
	GER_waffen_SS = {

		icon = generic_army_support

		available = {
			NOT = {
				has_country_flag = GER_war_conferences_cd
			}
			NOT = {
				has_country_flag = GER_LWFD
			}
		}
		visible = {
			NOT = {
				has_country_flag = GER_LWFD
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
		}
		modifier = {
			
		}
		complete_effect = {
			set_country_flag = { flag = GER_war_conferences_cd value = 1 days = 180 }
			set_country_flag = GER_waffen_SS
			add_ideas = GER_waffen_SS
			#JAP_interservice_rivalry_towards_navy = yes
		}
	}
}