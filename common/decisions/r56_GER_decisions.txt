#####---------------------------------------------------------------------> Mod by Sig "GreatExperiment" Altre

war_measures = {
	r56_GER_decision_support_eugen_meindl = {
	
		icon = generic_operation
	
		cost = 50
        fire_only_once = yes
		
		days_remove = 20
		
		custom_cost_text = frederick_browning_decision_cost
		custom_cost_trigger = {
			has_army_experience > 24
			has_air_experience > 24
			has_political_power > 24
		}
		
		allowed = {
			tag = GER
		}
	
		available = {
			has_army_experience > 24
			has_air_experience > 24

			has_tech = paratroopers 

		}
		
		visible = {
			tag = GER
		}
		
		remove_effect = {
			create_corps_commander = {
				name = "Eugen Meindl"
				portrait_path = "gfx/leaders/GER/r56_portrait_GER_Eugen_Meindl.dds"
				traits = { air_force_ties jumping_general commando paratrooper }
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
			}
		}		
		complete_effect = {
			army_experience = -25
			air_experience = -25					
			add_political_power = -25
		}
	}	
}

political_actions = {
	GER_cede_819_to_HUN = {
		allowed = {
			original_tag = GER
		}
		available = {
			is_subject = no
			owns_state = 819
			has_full_control_of_state = 819
			HUN = {
				is_friend_or_potential_friend_of_GER = yes
				NOT = {
					is_in_faction_with = YUG
				}
			}
		}
		visible = {
			HUN = {
				is_friend_or_potential_friend_of_GER = yes
				NOT = {
					is_in_faction_with = YUG
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			effect_tooltip = {
				HUN = { transfer_state = 819 }
			}
			HUN = { country_event = r56_hungary_prekmurje_annexation.1 }
		}
	}
	GER_cede_102_to_ITA = {
		allowed = {
			original_tag = GER
		}
		available = {
			is_subject = no
			owns_state = 102
			has_full_control_of_state = 102
			ITA = {
				is_friend_or_potential_friend_of_GER = yes
				NOT = {
					is_in_faction_with = YUG
				}
			}
		}
		visible = {
			ITA = {
				is_friend_or_potential_friend_of_GER = yes
				NOT = {
					is_in_faction_with = YUG
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			effect_tooltip = {
				ITA = { transfer_state = 102 }
			}
			ITA = { country_event = r56_italy_ljubljana_annexation.1 }
		}
	}
}

#ya boi Darkneon312 starts here

political_actions = {
	
	GER_depoliticize_the_military_decision = {
	
		icon = generic_army_support
	
		cost = 100
        fire_only_once = yes
		
		days_remove = 35
		
		allowed = {
			tag = GER
		}
	
		available = {
			has_idea = GER_disloyal_military
		}
		
		visible = {
			has_idea = GER_disloyal_military
		}
		
		remove_effect = {
			remove_ideas = GER_disloyal_military
			add_timed_idea = {
				idea = GER_depoliticize_the_military
				days = 180
			}
		}		
		complete_effect = {
			
		}
	}
}

GER_seek_foreign_recovery_aid = {

	GER_attract_foreign_investors = {

		icon = hol_attract_foreign_investors

		allowed = {
			tag = GER
		}

		available = {
			OR = {
				has_idea = export_focus
				has_idea = free_trade
				is_in_faction_with = USA
				is_in_faction_with = ENG
				is_in_faction_with = FRA
			}
			has_war = no
			OR = {
				USA = { has_war = no }
				ENG = { has_war = no }
				FRA = { has_war = no }
			}
		}

		cost = 25

		fire_only_once = no

		days_remove = 90

		modifier = {
			consumer_goods_factor = -0.05
		}

		visible = {
			tag = GER
			has_completed_focus = GER_seek_foreign_recovery_aid
		}

		remove_effect = {
		}

		complete_effect = {
		}

	}

	HOL_attract_foreign_industry = {

		icon = generic_construction

		allowed = {
			tag = GER
		}

		available = {
			OR = {
				has_idea = export_focus
				has_idea = free_trade
				is_in_faction_with = USA
				is_in_faction_with = ENG
				is_in_faction_with = FRA
			}
			has_war = no
			OR = {
				USA = { has_war = no }
				ENG = { has_war = no }
				FRA = { has_war = no }
			}
		}

		cost = 25

		fire_only_once = no

		days_remove = 90

		modifier = {
			production_speed_buildings_factor = 0.1
		}

		visible = {
			tag = GER
			has_completed_focus = GER_seek_foreign_recovery_aid
		}

		remove_effect = {
		}

		complete_effect = {
		}

	}

}


GER_prepare_for_the_revolution = {

	GER_request_soviet_equipment = {
	
		cost = 30
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			SOV = {
				exists = yes
				has_government = communism
			}
			
		}
		
		visible = {
			NOT = { has_country_flag = ger_request_soviet_equipment }
		}
		
		days_remove = 30
		#days_re_enable = 30
		
		modifier = {
			
		}
		
		complete_effect = {
			
		}
		
		remove_effect = {
			set_country_flag = ger_request_soviet_equipment
			custom_effect_tooltip = at_the_beginning_of_the_civil_war_tt
			effect_tooltip = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 500
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 250
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 125
					producer = SOV
				}
			}
		}
	}
	
	GER_raid_wehrmacht_depots = {
	
		cost = 25
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = no
		}
		
		visible = {
			has_civil_war = no
			NOT = { has_country_flag = ger_raid_wehrmacht_depots }
		}
		
		days_remove = 30
		#days_re_enable = 30
		
		modifier = {
			
		}
		
		complete_effect = {
			
		}
		
		remove_effect = {
			set_country_flag = ger_raid_wehrmacht_depots
			custom_effect_tooltip = at_the_beginning_of_the_civil_war_tt
			effect_tooltip = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1000
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 300
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 150
					producer = SOV
				}
			}
		}
	}
	
	GER_sabotage_military_checkpoints = {
	
		cost = 25
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = no
		}
		
		visible = {
			has_civil_war = no
		}
		
		days_remove = 30
		#days_re_enable = 30
		
		modifier = {
			
		}
		
		complete_effect = {
			
		}
		
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = GER
					infrastructure > 0
					NOT = { 
						OR = {
							state = 42
							state = 50
							state = 51
							state = 55
							state = 56
							state = 57
							state = 58
							state = 59
						}
					}
				}
				damage_building = { type = infrastructure damage = 0.25 }
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = GER
					infrastructure > 0
					NOT = { 
						OR = {
							state = 42
							state = 50
							state = 51
							state = 55
							state = 56
							state = 57
							state = 58
							state = 59
						}
					}
				}
				damage_building = { type = infrastructure damage = 0.25 }
			}
		}
	}
	
	GER_underground_workshops = {
	
		cost = 30
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = no
		}
		
		visible = {
			has_civil_war = no
			NOT = { has_country_flag = ger_underground_workshops }
		}
		
		days_remove = 30
		#days_re_enable = 30
		
		modifier = {
			
		}
		
		complete_effect = {
			
		}
		
		remove_effect = {
			set_country_flag = ger_underground_workshops
			add_offsite_building = { type = arms_factory level = 3 }
		}
	}
	
	GER_seek_international_support = {
	
		cost = 50
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			
		}
		
		visible = {
			NOT = { has_country_flag = ger_seek_international_support }
		}
		
		days_remove = 30
		#days_re_enable = 30
		
		modifier = {
			
		}
		
		complete_effect = {
			
		}
		
		remove_effect = {
			set_country_flag = ger_seek_international_support
			custom_effect_tooltip = at_the_beginning_of_the_civil_war_tt
			effect_tooltip = {
				add_ideas = GER_international_volunteers
			}
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}
}

GER_power_struggle = {
	
	GER_radicalize_the_front = {
	
		icon = eng_propaganda_campaigns
	
		cost = 25
		
        fire_only_once = yes
		
		days_re_enable = 30
		days_remove = 30
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			
		}
		
		visible = {
			
		}
		
		modifier = {
			communism_drift = 0.05
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			
		}
	}
	
	GER_appeal_to_the_soviets = {
	
		icon = generic_decision
	
		cost = 25
		
        fire_only_once = yes
		
		days_re_enable = 30
		days_remove = 30
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			SOV = {
				exists = yes
				has_government = communism
			}
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.025
			}
		}
	}
	
	GER_supply_rotfront_millitia = {
	
		icon = generic_prepare_civil_war
	
		cost = 25
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = yes
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.025
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				create_unit = {
					division = "name = \"Rotfront Miliz \" division_template = \"Rotfront Miliz\" start_experience_factor = 0.1" 
					owner = GER
				}
			}
		}
	}
	
	GER_deploy_political_commissars = {
	
		icon = generic_army_support
	
		cost = 25
		
        fire_only_once = yes
		
		days_remove = -1
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = yes
		}
		
		visible = {
			
		}
		
		cancel_trigger = {
			has_civil_war = no
		}
		
		modifier = {
			army_morale_factor = 0.1
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.025
			}
		}
	}
	
	GER_discredit_the_communists = {
	
		icon = generic_break_treaty
	
		cost = 25
		
        fire_only_once = yes
		
		days_re_enable = 30
		days_remove = 30
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			
		}
		
		visible = {
			
		}
		
		modifier = {
			democratic_drift = 0.05
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			
		}
	}
	
	GER_enlist_western_political_support = {
	
		icon = hol_exchange_intelligence_data
	
		cost = 25
		
        fire_only_once = yes
		
		days_re_enable = 30
		days_remove = 30
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			
		}
		
		visible = {
			
		}
		
		modifier = {
			political_power_gain = 0.25
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.025
			}
		}
	}
	
	GER_supply_reichsbanner_militia = {
	
		icon = generic_prepare_civil_war
	
		cost = 25
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = yes
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.025
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				create_unit = {
					division = "name = \"Reichsbanner Schwarz-Rot-Gold Miliz \" division_template = \"Reichsbanner Schwarz-Rot-Gold Miliz\" start_experience_factor = 0.1" 
					owner = GER
				}
			}
		}
	}
	
	GER_support_the_eiserne_front = {
	
		icon = generic_prepare_civil_war
	
		cost = 25
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			has_civil_war = yes
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.025
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				create_unit = {
					division = "name = \"Eiserne Front Miliz \" division_template = \"Eiserne Front Miliz\" start_experience_factor = 0.1" 
					owner = GER
				}
			}
		}
	}
	
	GER_communist_coup_dec = {
	
		icon = generic_civil_support
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			communism > 0.49
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			set_country_flag = ger_a_successful_revolution_flag
			hidden_effect = { #THIS !!MUST!! COME FIRST HERE
				drop_cosmetic_tag = yes
			}
			set_politics = {
				ruling_party = communism
			}
			remove_ideas = GER_political_disarray
		}
	}
	
	GER_democracy_prevails_dec = {
	
		icon = hol_war_on_pacifism
		
        fire_only_once = yes
		
		allowed = {
			original_tag = GER
		}
	
		available = {
			democratic > 0.49
		}
		
		visible = {
			
		}
		
		modifier = {
			
		}
		
		remove_effect = {
			
		}
		
		complete_effect = {
			set_country_flag = ger_democracy_prevails_flag
			hidden_effect = { #THIS !!MUST!! COME FIRST HERE
				drop_cosmetic_tag = yes
			}
			remove_ideas = GER_political_disarray
		}
	}
}

GER_interservice_rivalry = {
	
	GER_LWFD = {

		icon = eng_puppet_usa

		available = {
			NOT = {
				has_country_flag = GER_war_conferences_cd
			}
			NOT = {
				has_country_flag = GER_waffen_SS
			}
		}
		visible = {
			NOT = {
				has_country_flag = GER_waffen_SS
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
		}
		modifier = {
			special_forces_cap = 0.02
		}
		complete_effect = {
			set_country_flag = { flag = GER_war_conferences_cd value = 1 days = 180 }
			set_country_flag = GER_LWFD
			add_tech_bonus = {
				name = GER_LWFD
				bonus = 3.0
				uses = 1
				category = para_tech
			}
			#JAP_interservice_rivalry_towards_army = yes
		}
	}
	
	GER_waffen_SS = {

		icon = generic_army_support

		available = {
			NOT = {
				has_country_flag = GER_war_conferences_cd
			}
			NOT = {
				has_country_flag = GER_LWFD
			}
		}
		visible = {
			NOT = {
				has_country_flag = GER_LWFD
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = -1
		ai_will_do = {
			factor = 1
		}
		modifier = {
			
		}
		complete_effect = {
			set_country_flag = { flag = GER_war_conferences_cd value = 1 days = 180 }
			set_country_flag = GER_waffen_SS
			add_ideas = GER_waffen_SS
			#JAP_interservice_rivalry_towards_navy = yes
		}
	}
}