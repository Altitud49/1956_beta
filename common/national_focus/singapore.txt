focus_tree = {
id = singaporean_focus
country = {
    factor = 0
    modifier = {
        add = 10
        tag = SGP
    }
}

continuous_focus_position = { x = 400 y = 1000 }	

shared_focus = MAJ_UNIFIED_majapahit_unification
shared_focus = GEN_Naval_Effort
shared_focus = GEN_Industrial_Start
shared_focus = GEN_Industrial_Boom
shared_focus = GEN_State_Matter
default = no

####ARMY

focus = {
	id = SGP_singaporean_army
	icon = GFX_goal_SGP_singaporean_army
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_air_defence_command
	x = -12
	y = 0
	cost = 5 
	available_if_capitulated = yes 
	completion_reward = {
		army_experience = 15
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_XP }
}

focus = {
	id = SGP_singapore_commando
	icon = GFX_goal_SGP_commando_formation
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = -6
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = para_tech
			category = r56_desert_infantry_tech
			category = r56_jaeger_infantry_tech
			category = r56_jungle_infantry_tech
			category = r56_mountain_infantry_tech
			category = r56_paratroops_infantry_tech
			category = r56_special_forces_training_tech
			category = r56_shock_infantry_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_singapore_guards
	icon = GFX_goal_generic_marines2
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = -4
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = marine_tech
			category = tp_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_singapore_combat_engineers
	icon = GFX_goal_SGP_singapore_combat_engineers
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = -2
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = engineers_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_singapore_artillery
	icon = GFX_goal_SGP_singapore_artillery
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = 0
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = artillery
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_armoured_regiment
	icon = GFX_goal_SGP_armoured_regiment
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = 2
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = armor
			category = armored_cars_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_infantry_regiment
	icon = GFX_goal_SGP_infantry_regiment
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = 4
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = infantry_weapons
			category = camo_tech
			category = support_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_singapore_signals
	icon = GFX_goal_SGP_singapore_signals
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = 6
	y = 1
	prerequisite = { focus = SGP_singaporean_army }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = electronics
			category = signal_company_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_army_medical
	icon = GFX_goal_medicine
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_guards
	x = -1
	y = 1
	prerequisite = { focus = SGP_singapore_commando focus = SGP_singapore_guards }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = hospital_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_army_supply
	icon = GFX_goal_generic_road2
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_combat_engineers
	x = -1
	y = 1
	prerequisite = { focus = SGP_singapore_guards focus = SGP_singapore_combat_engineers }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = industry
			category = train_tech
			category = logistics_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
}

focus = {
	id = SGP_ammunition
	icon = GFX_goal_ammunitions
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_artillery
	x = -1
	y = 1
	prerequisite = { focus = SGP_singapore_combat_engineers focus = SGP_singapore_artillery }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
	    }
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = artillery
			category = infantry_weapons
			category = logistics_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
}

focus = {
	id = SGP_maintenance
	icon = GFX_goal_generic_machinery
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_armoured_regiment
	x = -1
	y = 1
	prerequisite = { focus = SGP_singapore_artillery focus = SGP_armoured_regiment }
	cost = 5
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = maintenance_company_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_army_transport
	icon = GFX_goal_generic_modernizing_the_cavalry2
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_infantry_regiment
	x = -1
	y = 1
	prerequisite = { focus = SGP_armoured_regiment focus = SGP_infantry_regiment }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = motorized_equipment
			category = cat_mechanized_equipment
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_army_intelligence
	icon = GFX_goal_SGP_army_intelligence
	bypass = {
		OR = {
			NOT = {
				has_dlc = "La Resistance"
			}
			AND = {
				has_done_agency_upgrade = upgrade_army_department
				has_done_agency_upgrade = upgrade_commando_training
			}
		}
	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_signals
	x = -1
	y = 1
	prerequisite = { focus = SGP_infantry_regiment focus = SGP_singapore_signals }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = yes
				NOT = {
					has_done_agency_upgrade = upgrade_army_department
				}
			}
			upgrade_intelligence_agency = upgrade_army_department
		}
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = yes
				NOT = {
					has_done_agency_upgrade = upgrade_commando_training
				}
			}
			upgrade_intelligence_agency = upgrade_commando_training
		}
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = no
			}
			create_intelligence_agency = {
				name = "Security & Intelligence Division"
				icon = GFX_r56_intelligence_agency_logo_sgp
			}
		}
	}
}

focus = {
	id = SGP_gurkha_contingents
	icon = GFX_focus_RAJ_indian_gurkhas
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_army_transport
	x = 0
	y = 1
	prerequisite = { focus = SGP_army_medical focus = SGP_army_supply focus = SGP_ammunition focus = SGP_maintenance focus = SGP_army_transport focus = SGP_army_intelligence }
	cost = 10
	available_if_capitulated = yes 
	available = {
		NOT = {
			has_war_with = NEP
		}
	}
	completion_reward = {
		add_manpower = 10000
		set_technology = { SGP_gurkha_contingents = 1 }
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

focus = {
	id = SGP_national_service
	icon = GFX_goal_SGP_national_service
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_gurkha_contingents
	x = 0
	y = 1
	prerequisite = { focus = SGP_gurkha_contingents }
	cost = 10
	available_if_capitulated = yes 
	available = {
		NOT = {
			has_idea = extensive_conscription
		}
	}
	completion_reward = {
		if = {
			limit = {
				NOT = { has_idea = extensive_conscription }
			}
			add_ideas = extensive_conscription
		}
		add_ideas = SGP_every_singaporean_son
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

focus = {
	id = SGP_officer_schools
	icon = GFX_focus_generic_military_academy
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_army_supply
	x = 0
	y = 1
	prerequisite = { focus = SGP_army_medical focus = SGP_army_supply focus = SGP_ammunition focus = SGP_maintenance focus = SGP_army_transport focus = SGP_army_intelligence }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		army_experience = 100
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

focus = {
	id = SGP_military_research
	icon = GFX_goal_generic_warfighting_technology
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_officer_schools
	x = 0
	y = 1
	prerequisite = { focus = SGP_officer_schools }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_research_slot = 1
	}
}

####AIR

focus = {
	id = SGP_singapore_air_defence_command
	icon = GFX_goal_SGP_singaporean_army
	bypass = {

	}
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singaporean_army
	x = 12
	y = 0
	cost = 5 
	available_if_capitulated = yes 
	completion_reward = {
		air_experience = 15
		add_doctrine_cost_reduction = {
			name = air_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP }
}

focus = {
	id = SGP_american_fighters
	icon = GFX_goal_fighters_usa
	ai_will_do = {
		factor = 2
    }
	relative_position_id = SGP_singapore_air_defence_command
	x = -4
	y = 1
	prerequisite = { focus = SGP_singapore_air_defence_command }
	available = {
		OR = {
			USA = { has_government = ROOT }
			USA_will_support = yes
		}
		NOT = {
			has_war_with = USA
		}
		USA = {
			has_capitulated = no
		}
	}
	cost = 10 
	available_if_capitulated = yes 
	completion_reward = {
		add_equipment_to_stockpile = {
			type = fighter_equipment
			amount = 50
			producer = USA
		}
	}
	search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT }
}

focus = {
	id = SGP_british_fighters
	icon = GFX_goal_fighters_uk
	ai_will_do = {
		factor = 2
    }
	relative_position_id = SGP_singapore_air_defence_command
	x = -2
	y = 1
	prerequisite = { focus = SGP_singapore_air_defence_command }
	available = {
		OR = {
			ENG = { has_government = ROOT }
			ENG_will_support = yes
		}
		NOT = {
			has_war_with = ENG
		}
		ENG = {
			has_capitulated = no
		}
	}
	cost = 10 
	available_if_capitulated = yes 
	completion_reward = {
		add_equipment_to_stockpile = {
			type = fighter_equipment
			amount = 50
			producer = ENG
		}
	}
	search_filters = { FOCUS_FILTER_MILITARY_EQUIPMENT }
}

focus = {
	id = SGP_singaporean_design
	icon = GFX_goal_generic_air_production
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_british_fighters
	x = -1
	y = 1
	prerequisite = { focus = SGP_american_fighters focus = SGP_british_fighters }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = light_air
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_air_transport
	icon = GFX_goal_multiple_bombers
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_singapore_air_defence_command
	x = 0
	y = 1
	prerequisite = { focus = SGP_singapore_air_defence_command }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = transport_plane_tech
			ahead_reduction = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = SGP_expand_changi
	icon = GFX_goal_generic_airport
	ai_will_do = {
		factor = 10 
	}
	relative_position_id = SGP_air_transport
	x = 0
	y = 1
	prerequisite = { focus = SGP_air_transport }
	cost = 10
	available_if_capitulated = yes 
	completion_reward = {
		336 = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
	}
}