focus_tree = {
	id = nazi_german_tree
	
	country = {
		factor = 0
	}
	
	default = no
	
	focus = {
		id = GER_assume_control_over_the_army
		icon = GFX_goal_FRA_la_cagoule_coup
		x = 8
		y = 0
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
			create_corps_commander = {
				name = "Eduard Dietl"
				picture = "r56_portrait_GER_Eduard_Dietl.dds"
				traits = { winter_specialist commando }
				skill = 3
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 4
			}
			set_country_flag = ger_wehrmacht_subjagated
		}
	}
	
	focus = {
		id = GER_request_italian_aid
		icon = GFX_focus_befriend_italy
		prerequisite = { focus = GER_assume_control_over_the_army }
		x = 0
		y = 1
		relative_position_id = GER_assume_control_over_the_army
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
			NOT = { has_global_flag = gcw_over }
			has_volunteers_amount_from = {
				tag = ITA
				count > 0
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_tech_bonus = {
				name = GER_request_italian_aid
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = GER_request_italian_aid
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}
	
	focus = {
		id = GER_defence_of_bavaria
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = GER_assume_control_over_the_army }
		x = -2
		y = 1
		relative_position_id = GER_assume_control_over_the_army
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
			OR = {
				controls_state = 52
				controls_state = 53
				controls_state = 54
			}
			NOT = { has_global_flag = gcw_over }
		}
		search_filters = {  }
		completion_reward = {
			if = {
				limit = {
					controls_state = 52
				}
				52 = {
					custom_effect_tooltip = GER_defence_of_bavaria_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"SS-Sturmbrigade\" start_experience_factor = 0.3" 
							owner = ROOT
							count = 1
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_victory_point = yes
								is_controlled_by = ROOT
							}
							level = 3
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 53
				}
				53 = {
					custom_effect_tooltip = GER_defence_of_bavaria_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"SS-Sturmbrigade\" start_experience_factor = 0.3" 
							owner = ROOT
							count = 1
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_victory_point = yes
								is_controlled_by = ROOT
							}
							level = 3
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 54
				}
				54 = {
					custom_effect_tooltip = GER_defence_of_bavaria_tt
					hidden_effect = {
						create_unit = {
							division = "division_template = \"SS-Sturmbrigade\" start_experience_factor = 0.3" 
							owner = ROOT
							count = 1
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_victory_point = yes
								is_controlled_by = ROOT
							}
							level = 3
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_unser_kampf
		icon = GFX_goal_polish_wartime_industry
		prerequisite = { focus = GER_defence_of_bavaria }
		x = -1
		y = 1
		relative_position_id = GER_defence_of_bavaria
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
			NOT = { has_global_flag = gcw_over }
		}
		search_filters = {  }
		completion_reward = {
			add_timed_idea = {
				idea = GER_unser_kampf
				days = 365
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_call_upon_the_volksdeutsche
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = GER_assume_control_over_the_army }
		x = 2
		y = 1
		relative_position_id = GER_assume_control_over_the_army
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = GER_call_upon_the_volksdeutsche
		}
	}
	
	focus = {
		id = GER_form_the_volkssturm
		icon = GFX_goal_class_a_reservists
		prerequisite = { focus = GER_call_upon_the_volksdeutsche }
		x = -1
		y = 1
		relative_position_id = GER_call_upon_the_volksdeutsche
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			hidden_effect = {
				if = {
					limit = {
						not = {
							has_tech = r56_militia_tech
						}
					}
					set_technology = {
						r56_militia_tech = 1
					}
					set_country_flag = r56_militia_formation_flag
				}
			}
			custom_effect_tooltip = r56_GER_endsieg_tt
			hidden_effect = {
				if = { #Cannon Endsieg units
					limit = {
						ROOT = {
							has_full_control_of_state = 60
						}
					}
					load_oob = r56_GER_endsieg_units_1
				}	
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 60
						}
					}
					load_oob = r56_GER_endsieg_units_2
				}
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 61
						}
					}
					load_oob = r56_GER_endsieg_units_3
				}
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 52
						}
					}
					load_oob = r56_GER_endsieg_units_4
				}
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 54
						}
					}
					load_oob = r56_GER_endsieg_units_5
				}
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 59
						}
					}
					load_oob = r56_GER_endsieg_units_6
				}
				if = {
					limit = {
						ROOT = {
							has_full_control_of_state = 58
						}
					}
					load_oob = r56_GER_endsieg_units_7
				}
			}
		}
	}
	
	focus = {
		id = GER_bombing_campaigns
		icon = GFX_goal_GER_nationalize_aviation_industry
		prerequisite = { focus = GER_call_upon_the_volksdeutsche }
		x = 1
		y = 1
		relative_position_id = GER_call_upon_the_volksdeutsche
		cost = 10
		ai_will_do = {
			factor = 12
		}

		available = {
			has_civil_war = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			air_experience = 20
			add_tech_bonus = {
				name = GER_support_air_operations
				bonus = 1
				uses = 2
				category = tactical_bomber
			}
		}
	}
}