focus_tree = {
    id = cw_soviet_focus
    country = {
        factor = 0
        modifier = {
            add = 100
            tag = SOV
            has_start_date > 1945.01.01
        }
    }
    default = no
	continuous_focus_position = { x = 650 y = 1350 }
    focus = {
        id = SOV_civilian_cars
        icon = GFX_goal_generic_automobile
        x = 5
        y = 1

        cost = 5

        ai_will_do = {
            factor = 80
        }
        
        available_if_capitulated = yes

        completion_reward = {
            
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }
    focus = {
		id = SOV_cw_found_the_comecon
        text = SOV_found_the_comecon

		icon = GFX_focus_SOV_the_comecon
		x = 10
		y = 0
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			num_subjects > 0
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					num_subjects > 0
				}
				add_ideas = SOV_comecon_sov_default
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = SOV_comecon_puppet_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_program_tt
				hidden_effect = {
					add_to_tech_sharing_group = SOV_comecon
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						add_to_tech_sharing_group = SOV_comecon
					}
				}
			}
			else = { #Early tooltip for when Soviets have no subjects
				effect_tooltip = {
					add_ideas = SOV_comecon_sov_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				effect_tooltip = {
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
			}

			unlock_decision_category_tooltip = SOV_comecon_dec_cat
		}
	}
	focus = {
        id = SOV_develop_alternative_uranium_sources
        icon = GFX_goal_generic_nuclear_energy
        x = 10
        y = 1

        cost = 5

		available = {
			OR = {
				has_subject = ROM
				controls_state = 830
				has_subject = KAZ
			}
		}

        ai_will_do = {
            factor = 80
        }
        
        available_if_capitulated = yes

        completion_reward = {
			if = {
				limit = {
					OR = {
						controls_state = 830
						830 = {
							owner = {
								is_subject_of = ROOT
							}
						}
					}
				}
				830 = {
					add_dynamic_modifier = {
						modifier = cw_nuclear_state_source
					}
				}
			}
			if = {
				limit = {
					OR = {
						controls_state = 83
						83 = {
							owner = {
								is_subject_of = ROOT
							}
						}
					}
				}
				83 = {
					add_dynamic_modifier = {
						modifier = cw_nuclear_state_source
					}
				}
			}
			if = {
				limit = {
					OR = {
						controls_state = 618
						618 = {
							owner = {
								is_subject_of = ROOT
							}
						}
					}
				}
				618 = {
					add_dynamic_modifier = {
						modifier = cw_nuclear_state_source
					}
				}
			}
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }
	focus = {	#denounce cooperation with bourgeousie
        id = SOV_denounce_cooperation_with_the_bourgeousie
        icon = GFX_focus_spr_class_war
        x = 7
        y = 1

        cost = 5

        ai_will_do = {
            factor = 80
        }
        
        available_if_capitulated = yes

        completion_reward = {
            
        }
        search_filters = { FOCUS_FILTER_POLITICAL }
    }
	focus = {
		id = SOV_pressure_finnish_government
		icon = GFX_focus_generic_attack_finland
		x = 0
		y = 1
		relative_position_id = SOV_denounce_cooperation_with_the_bourgeousie

		cost = 5

		cancel_if_invalid = no

		prerequisite = {
			focus = SOV_denounce_cooperation_with_the_bourgeousie
		}

		available = {
			has_equipment = {
				infantry_equipment > 999
			}
			FIN = {
				exists = yes
				is_subject = no
			}
		}

		ai_will_do = {
			factor = 80
		}
		
		available_if_capitulated = yes

		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			FIN = {
				country_event = cold_war.23
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				give_guarantee = FIN
				FIN = {
					give_guarantee = SOV
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
}