focus_tree = {
    id = cw_yugoslavia_focus
    country = {
        factor = 0
        modifier = {
            add = 100
            tag = YUG
            has_start_date > 1945.01.01
        }
    }
    default = no
	continuous_focus_position = { x = 650 y = 1350 }
    #market socialism (upsets Stalin)
    #intervention in greece (upsets Stalin)
    shared_focus = BA_FED_balkan_confederation_project

    #
    # ECONOMY
    #

    focus = {
		id = YUG_electrify_the_countryside
		icon = GFX_goal_generic_power_plant
		x = 2
		y = 0

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}


	focus = {
		id = YUG_construct_heavy_industry
		icon = GFX_goal_generic_soviet_construction
		x = 2
		y = 0
		relative_position_id = YUG_electrify_the_countryside

        available = {
            
        }

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

    focus = {
		id = YUG_establish_energoproject #1951
		icon = GFX_goal_generic_construction_tools
		x = 1
		y = 1
		relative_position_id = YUG_electrify_the_countryside

		prerequisite = {
			focus = YUG_electrify_the_countryside
		}
		prerequisite = {
			focus = YUG_construct_heavy_industry
		}

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = YUG_energoproject
            random_owned_controlled_state = {
				prioritize = { 102 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			random_owned_controlled_state = {
				prioritize = { 109 }
				limit = {
					ROOT = { has_full_control_of_state = PREV }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

    focus = {
		id = YUG_restrict_emigration
		icon = GFX_focus_generic_decrease_unemployment
		x = -1
		y = 1
        relative_position_id = YUG_establish_energoproject
        prerequisite = {
            focus = YUG_establish_energoproject
        }
        mutually_exclusive = {
            focus = YUG_embrace_foreign_workers
        }

        available = {
            has_idea = YUG_worker_outflow
        }

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            swap_ideas = {
                remove_idea = YUG_worker_outflow
                add_idea = YUG_foreign_working_restricted
            }
		}
	}

    focus = {
		id = YUG_embrace_foreign_workers
		icon = GFX_focus_generic_full_employment
		x = 1
		y = 1
        relative_position_id = YUG_establish_energoproject
        prerequisite = {
            focus = YUG_establish_energoproject
        }
        mutually_exclusive = {
            focus = YUG_restrict_emigration
        }

        available = {
            has_idea = YUG_worker_outflow
        }

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            swap_ideas = {
                remove_idea = YUG_worker_outflow
                add_idea = YUG_foreign_workers_embraced
            }
            add_offsite_building = { type = industrial_complex level = 2 }
		}
	}

	#political

	focus = {
		id = YUG_abolish_the_monarchy_cw
		text = YUG_abolish_the_monarchy
		icon = GFX_focus_rom_handle_king
		x = 10
		y = 0

		cost = 6

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            set_cosmetic_tag = YUG_early_communism
		}
	}
	
    focus = {
		id = YUG_the_republican_constitution
		icon = GFX_goal_constitution
		x = 0
		y = 1
        relative_position_id = YUG_abolish_the_monarchy_cw
        prerequisite = {
            focus = YUG_abolish_the_monarchy_cw
        }

		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            drop_cosmetic_tag = yes
		}
	}

	focus = {
		id = YUG_support_greek_communists
		icon = GFX_goal_generic_befriend_greece_communist
		x = -2
		y = 1
        relative_position_id = YUG_the_republican_constitution
        prerequisite = {
            focus = YUG_the_republican_constitution
        }
		available = {
			any_country = {
				original_tag = GRE
				has_government = communism
			}
		}
		cost = 10

		ai_will_do = {
			factor = 200
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }


		completion_reward = {
            random_country = {  
				limit = {
					original_tag = GRE
					has_government = communism
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 500
					producer = YUG
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment
					amount = 50
					producer = YUG
				}
				add_equipment_to_stockpile = {
					type = anti_air_equipment
					amount = 25
					producer = YUG
				}
			}
			if = {
				limit = {
					NOT = {
						any_country = {
							original_tag = GRE
							has_government = communism
						}
					}
				}
				effect_tooltip = {
					GRE = {
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 500
							producer = YUG
						}
						add_equipment_to_stockpile = {
							type = anti_tank_equipment
							amount = 50
							producer = YUG
						}
						add_equipment_to_stockpile = {
							type = anti_air_equipment
							amount = 25
							producer = YUG
						}
					}
				}
			}
		}
	}
}