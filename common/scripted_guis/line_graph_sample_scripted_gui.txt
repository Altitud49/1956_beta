scripted_gui = {
	line_graph_sample_scripted_gui = {
		window_name = "line_graph_sample_gui"
		context_type = player_context

		visible = {
			has_country_flag = open_line_gui
		}

		effects = {
			
		}

		# Set up dynamic list to generate one line segment per point
		dynamic_lists = {
			line_segments_lower = {
				array = den_lower_diffs
				change_scope = no
				entry_container = line_graph_line_lower_segment
				index = segment_idx
			}
			line_segments_middle = {
				array = den_middle_diffs
				change_scope = no
				entry_container = line_graph_line_middle_segment
				index = segment_idx
			}
			line_segments_upper = {
				array = den_upper_diffs
				change_scope = no
				entry_container = line_graph_line_upper_segment
				index = segment_idx
			}
		}

		properties = {
			segment_lower = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = den_lower_diffs^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = den_lower_slopes^segment_idx
			}
			segment_middle = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = den_middle_diffs^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = den_middle_slopes^segment_idx
			}
			segment_upper = {
				# Sets they position of the line segment to the graph offset
				# Equal to -y1
				y = den_upper_diffs^segment_idx

				# Tells the shader how steep to draw the line
				# Must be equal to (y2 - y1) / 2 + 50
				frame = den_upper_slopes^segment_idx
			}
			r56_denmark_bar_blue_name = {
				frame = var:den_upper_loyalty
			}
			r56_denmark_bar_green_name = {
				frame = var:den_middle_loyalty
			}
			r56_denmark_bar_red_name = {
				frame = var:den_lower_loyalty
			}

			r56_denmark_bar_blue_equilibrium = {
				y = den_upper_equilibrium_y
			}

			r56_denmark_bar_red_equilibrium = {
				y = den_lower_equilibrium_y
			}

			r56_denmark_bar_green_equilibrium = {
				y = den_middle_equilibrium_y
			}

			r56_denmark_Triangular_Graph_Dot = {
				y = den_triangle_y # 413
				x = den_triangle_x # 134
			}
		}

		triggers = {
			# Optional. This hides every other x label, to give them some breathing room
			label_visible = {
				NOT = {
					check_variable = {
						segment_idx = 0
					}
				}
				#set_temp_variable = { si = segment_idx }
				#modulo_temp_variable = { si = 2 }
				#check_variable = { si = 0 }
			}
		}
	}
}
