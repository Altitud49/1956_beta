###########################
# Generic Events
###########################	
#Generic Army Tree events 

add_namespace = abc

#General Staff choose
country_event = {
	id = abc.1
	title = abc.1.t
	desc = abc.1.desc
	picture = GFX_report_event_Tadeusz_Jordan_Rozwadowski

	is_triggered_only = yes

	option = {
		name = abc.1.a
		set_country_flag = ABC_establish_a_general_staff_a
	}

	option = {
		name = abc.1.b
		set_country_flag = ABC_establish_a_general_staff_b
	}
}

add_namespace = no_overlord_in_war

country_event = {
	id = no_overlord_in_war.1
	title = no_overlord_in_war.1.t
	desc = no_overlord_in_war.1.desc
	picture = GFX_report_event_Tadeusz_Jordan_Rozwadowski
	hidden = yes
	is_triggered_only = yes
	#fire_only_once = yes
	
	immediate = {
		random_other_country = {
			limit = {
				has_war_with = ROOT
				is_subject = yes
				OVERLORD = {
					check_variable = { modifier@cannot_call_allies_or_join_wars > 0 }
				}
			}
			OVERLORD = {
				white_peace = ROOT
			}
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			
			if = {
				limit = {
					any_country = {
						has_war_with = PREV
						NOT = { tag = ROOT }
					}
				}
				#nothing
			}
			else = {
				add_ideas = r56_generic_defensive_war
			}
			
			if = {
				limit = {
					any_country = {
						has_war_with = ROOT
						NOT = { tag = PREV }
					}
				}
				#nothing
			}
			else = {
				ROOT = { add_ideas = r56_generic_offensive_war }
			}
		}
	}
	
	option = {
		name = no_overlord_in_war.1.a
	}
}