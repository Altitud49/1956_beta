###########################
# Iraq Events ############
###########################

add_namespace = irq
add_namespace = iraq_hist

# Historical events

country_event = { # Notification of coup
	id = iraq_hist.2
	title = iraq_hist.2.t
	desc = iraq_hist.2.desc
	picture = GFX_report_event_IRQ_golden_square_coup

	is_triggered_only = yes

	option = {
		name = iraq_hist.2.a # British option
		trigger = {
			tag = ENG
		}
		ENG = {
			add_ai_strategy = {
				type = prepare_for_war
				id = IRQ
				value = 200
			}
			add_ai_strategy = {
				type = invade
				id = IRQ
				value = 50
			}
		}
	}

	option = {
		name = iraq_hist.2.b # gasp!
	}

	option = {
		name = iraq_hist.2.c # Axis reaction
		trigger = {
			OR = {
				tag = GER
				AND = {
					is_major = yes
					is_in_faction_with = GER
				}
				AND = {
					original_tag = FRA
					is_in_faction_with = GER
				}
			}
		}
		
		IRQ = {
			country_event = { id = iraq_hist.4 days = 1 random_hours = 16 }
		}
	}
}

news_event = { # British launch invasion
	id = iraq_hist.3
	title = iraq_hist.3.t
	desc = iraq_hist.3.desc
	picture = GFX_news_event_SOV_invasion_iran

	is_triggered_only = yes

	option = {
		name = iraq_hist.3.a
	}

}

country_event = { # Axis send guns
	id = iraq_hist.4
	title = iraq_hist.4.t
	desc = iraq_hist.4.desc
	picture = GFX_report_event_tur_machine_gunners

	is_triggered_only = yes

	option = {
		name = iraq_hist.4.a
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
			producer = FROM
		}
	}
}
country_event = { # British victory, offer terms
	id = iraq_hist.5
	title = iraq_hist.5.t
	desc = iraq_hist.5.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = { ## Iraq agrees to terms
		name = iraq_hist.5.a
		white_peace = ENG
		give_military_access = ENG
		ENG = {
			set_autonomy = {
				target = IRQ
				autonomy_state = autonomy_puppet
				end_wars = yes
			}
			add_ai_strategy = {
				type = ignore
				id = IRQ
				value = 100
			}
		}
		set_country_flag = IRQ_british_occupation_flag
		clr_country_flag = IRQ_historical_golden_square_coup
		drop_cosmetic_tag = yes
		set_politics = {
			ruling_party = neutrality
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.3
		}
		#swap_ideas = {
			#remove_idea = IRQ_golden_square_defense_government_idea
			#add_idea = IRQ_golden_square_defense_government_idea_2
		#}
	}
}

country_event = {
	id = iraq_hist.6 ## British launch invasion
	title = iraq_hist.6.t
	desc = iraq_hist.6.desc
	picture = GFX_report_event_tur_machine_gunners

	is_triggered_only = yes

	option = {
		name = iraq_hist.6.a
		trigger = {
			ENG = {
				any_owned_state = {
					is_on_continent = middle_east
				}
			}
		}
		ai_chance = {
            base = 10
        }
		ENG = {
			complete_national_focus = uk_iraq_focus
		}
		add_ai_strategy = {
			type = declare_war
			id = IRQ
			value = 125
		}
	}

	option = {
		name = iraq_hist.6.b
		ai_chance = {
            base = 0
        }
	}
}

### END NEW EVENTS ###

# German Military Mission (Germans)
country_event = {
	id = irq.1
	title = irq.1.t
	desc = irq.1.d
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes

	option = {
		name = irq.1.a	#sounds good
		IRQ = {
			country_event = { days = 1 id = irq.2 }
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty_trade
			}
		}
		# REVISIT Balance research bonus
		GER = { add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group }
		add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group
		add_tech_bonus = {
			name = special_forces_bonus
			bonus = 1
			uses = 1
			category = r56_desert_infantry_tech
		}
	}

	option = {
		name = irq.1.b	#no way
		ai_chance = { factor = 0 }
		add_political_power = -10
		add_opinion_modifier = { target = GER modifier = refused_help }# no pact
	}
}

# German Military accept
country_event = {
	id = irq.2
	title = irq.2.t
	desc = irq.2.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = irq.2.a	#bah
		# REVISIT Balance research bonus
		GER = { add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group }
		add_to_tech_sharing_group = ROM_invite_german_advisors_tech_group
		add_doctrine_cost_reduction = {
			name = IRQ_german_military_mission
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
		GER = {
			add_opinion_modifier = { target = IRQ modifier = offered_support }
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty_trade }
		}
	}
}

# Germans Reject
country_event = {
	id = irq.3
	title = irq.3.t
	desc = irq.3.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = irq.3.a
		#add_opinion_modifier = { target = IRQ modifier = refused_help }# no pact
	}
}

country_event = { #pesmerge me
	id = irq.4
	title = irq.4.t
	desc = irq.4.d
	picture = GFX_report_event_IRQ_kurdish_revolt

	is_triggered_only = yes

	option = {
		name = irq.4.a
		add_stability = -0.05
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		676 = {
			custom_effect_tooltip = irq_increase_revolt_risk_tt
		}
		hidden_effect = {
			676 = {
				add_resistance_target = 15
			}
		}

	}
}

#Iraqi Success
country_event = {
	id = irq.5
	title = irq.5.t
	desc = irq.5.d
	picture = GFX_report_event_IRQ_kurdish_victory

	is_triggered_only = yes

	option = { 
		name = irq.5.a
		add_stability = 0.05
		add_political_power = 50
		custom_effect_tooltip = irq_decrease_revolt_risk_tt
		hidden_effect = {
			676 = {
				add_resistance_target = -10
			}
		}
	}
}
 
#Iraqi Failure 
country_event = { 
	id = irq.6
	title = irq.6.t
	desc = irq.6.d
	picture = GFX_report_event_IRQ_kurdish_failure

	is_triggered_only = yes

	option = { 
		name = irq.6.a
		add_political_power = 25
		676 = {
			custom_effect_tooltip = irq_increase_revolt_risk_tt
		}
		hidden_effect = {
			676 = {
				add_resistance_target = 10
			}
		}
	}
}

country_event = { 
	id = irq.7
	title = irq.7.t
	desc = irq.7.d
	picture = GFX_report_event_IRQ_army

	is_triggered_only = yes

	option = { 
		name = irq.7.a
		add_political_power = -10
		custom_effect_tooltip = irq_increase_revolt_risk_tt
		hidden_effect = {
			676 = {
				add_resistance_target = 15
			}
		}
	}
}
country_event = { 
	id = irq.8
	title = irq.8.t
	desc = irq.8.d
	picture = GFX_report_event_IRQ_army2

	is_triggered_only = yes

	option = { 
		name = irq.8.a
		add_political_power = -10
		custom_effect_tooltip = irq_increase_revolt_risk_tt
		hidden_effect = {
			676 = {
				add_resistance_target = 15
			}
		}
	}
}
country_event = { 
	id = irq.9
	title = irq.9.t
	desc = irq.9.d
	picture = GFX_report_event_IRQ_army3

	is_triggered_only = yes

	option = { 
		name = irq.9.a
		add_political_power = -10
		custom_effect_tooltip = irq_increase_revolt_risk_tt
		hidden_effect = {
			676 = {
				add_resistance_target = 20
			}
		}
	}
}