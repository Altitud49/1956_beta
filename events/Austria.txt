add_namespace = austria

country_event = { #rhineland
	id = austria.1
	title = austria.1.t
	desc = austria.1.d
	picture = GFX_report_event_german_troops
	is_triggered_only = yes
	option = {
		name = austria.1.a
		add_opinion_modifier = {
			target = GER
			modifier = medium_decrease
		}
		effect_tooltip = {
			add_stability = -0.05
		}
		set_country_flag = AUS_versailles_undone
		complete_national_focus = AUS_clock_ticks_down
	}
}

country_event = { #Looking Outwards
	id = austria.2
	title = austria.2.t
	desc = austria.2.d
	is_triggered_only = yes
	option = { #Keep Italian Alliance
		name = austria.2.a
		ITA = {
			country_event = {
				id = austria.3
				days = 1
				random_hours = 12
			}
		}
		 
		trigger = {
			NOT = {
				has_country_flag = AUS_italy_rejected
			}
		}
		
	}
	option = { #Look West
		name = austria.2.b 
		trigger = {
			NOT = {
				has_country_flag = AUS_west_rejected
			}
		}
		if = {
			limit = {
				FRA = {
					is_subject = no
					has_government = democratic
				}
			}
			FRA = {
				country_event = {
					id = austria.6
					days = 1
					random_hours = 12
				}
			}
			custom_effect_tooltip = AUS_if_france_decline
		}
		else = {
			ENG = {
				country_event = {
					id = austria.6
					days = 1
					random_hours = 12
				}

			}
		}
	}
	
	option = { #submit to germany
		name = austria.2.c 
		trigger = {
			NOT = {
				has_country_flag = AUS_germany_rejected
			}
		}
		GER = {
			country_event = {
				id = austria.13
				days = 1
				random_hours = 12
			}
		}
	}
	option = { #we are alone
		name = austria.2.e
		trigger = {
			has_country_flag = AUS_west_rejected
			has_country_flag = AUS_italy_rejected
			has_country_flag = AUS_germany_rejected
		}
		complete_national_focus = AUS_ally_italy
	}
	
}
country_event = { #Austria requests alliance - italy
	id = austria.3
	title = austria.3.t
	desc = austria.3.d
	is_triggered_only = yes
	option = {
		name = austria.3.a
		
	}
	option = { #yes
		name = austria.3.a
		effect_tooltip = {
			AUS = {
				add_opinion_modifier = {
					target = ITA
					modifier = large_increase
				}
			}
		}
		AUS = {
			country_event = austria.4
		}
	}
	option = { #no 
		name = austria.3.b
		ai_chance = {
			base = 0
		}
		AUS = {
			country_event = austria.5
		}
		effect_tooltip = {
			AUS = {
				add_opinion_modifier = {
					target = ITA
					modifier = large_decrease
				}
			}
		}
	}
	
}

country_event = { #Italy accepts - austria
	id = austria.4
	title = austria.4.t
	desc = austria.4.d
	is_triggered_only = yes
	option = {
		name = austria.4.a 
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_opinion_modifier = {
			target = ITA
			modifier = large_increase
		}
		set_country_flag = AUS_italy_allied
		complete_national_focus = AUS_ally_italy
		GER = {
			country_event = {
				id = austria.18
				days = 1 
				random_hours = 12
			}
		}
	}
}

country_event = { #Italy rejects - austria
	id = austria.5
	title = austria.5.t
	desc = austria.5.d
	is_triggered_only = yes
	option = { #Keep going austrofascism
		name = austria.5.a 
		add_opinion_modifier = {
			target = ITA
			modifier = large_decrease
		}
		complete_national_focus = AUS_ally_italy
	}
	option = { #find new ally
		name = austria.5.b 
		add_opinion_modifier = {
			target = ITA
			modifier = large_decrease
		}
		set_country_flag = AUS_italy_rejected
		country_event = austria.2
	}
}

country_event = { #Austria requests alliance - west
	id = austria.6
	title = austria.6.t
	desc = austria.6.d
	is_triggered_only = yes
	option = {
		name = austria.6.a
		
	}
	option = { #they must do democratic reforms
		name = austria.6.a
		AUS = {
			country_event = austria.7
		}
	}
	option = { #no 
		name = austria.6.b
		ai_chance = {
			base = 0
		}
		AUS = {
			country_event = austria.12
		}
		effect_tooltip = {
			AUS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_decrease
				}
			}
		}
	}
	
}

country_event = { #west demands democratic reforms - austria
	id = austria.7
	title = austria.7.t
	desc = austria.7.d
	is_triggered_only = yes
	option = { #fine
		name = austria.7.a 
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_opinion_modifier = {
			target = FROM
			modifier = medium_increase
		}
		FROM = {
			country_event = {
				id = austria.8
				days = 1 
				random_hours = 12
			}
		}
		effect_tooltip = {
			FROM = {
				diplomatic_relation = {
					country = AUS
					relation = guarantee
				}
			}
		}
		set_country_flag = AUS_west_allied
		complete_national_focus = AUS_look_west
	}
	option = { #compromise on hapsburg?
		name = austria.7.b 
		FROM = {
			country_event = {
				id = austria.9
				days = 1 
				random_hours = 12
			}
		}
	}
	option = { #never!
		name = austria.7.c
		set_country_flag = AUS_west_rejected
		country_event = austria.2
	}
}

country_event = { #austria accepts reforms - west
	id = austria.8
	title = austria.8.t
	desc = austria.8.d
	is_triggered_only = yes
	option = {
		name = austria.8.a
		diplomatic_relation = {
			country = AUS
			relation = guarantee
		}
		effect_tooltip = {
			AUS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}
		}
		GER = {
			country_event = {
				id = austria.18
				days = 1 
				random_hours = 12
			}
		}
	}
}

country_event = { #Austria wants moderate hapsburg - west
	id = austria.9
	title = austria.9.t
	desc = austria.9.d
	is_triggered_only = yes
	option = { #fine
		name = austria.9.a
		effect_tooltip = {
			AUS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_increase
				}
			}
		}
		diplomatic_relation = {
			country = AUS
			relation = guarantee
		}
		AUS = {
			country_event = austria.10
		}
	}
	option = { #no
		ai_chance = {
			base = 0
		}
		AUS = {
			country_event = austria.11
		}
	}
}

country_event = { #west accepts moderate hapsburg - austria
	id = austria.10
	title = austria.10.t
	desc = austria.10.d
	is_triggered_only = yes
	option = {
		name = austria.10.a
		effect_tooltip = {
			FROM = {
				diplomatic_relation = {
					country = AUS
					relation = guarantee
				}
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = large_increase
		}
		set_country_flag = AUS_west_allied
		set_country_flag = AUS_moderate_hapsburg
		complete_national_focus = AUS_look_west
		GER = {
			country_event = {
				id = austria.18
				days = 1 
				random_hours = 12
			}
		}
	}
}

country_event = { #west rejects moderate hapsburg - austria
	id = austria.11
	title = austria.11.t
	desc = austria.11.d
	is_triggered_only = yes
	option = { #agree to democratic reforms
		name = austria.11.a
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_opinion_modifier = {
			target = FROM
			modifier = medium_increase
		}
		FROM = {
			country_event = {
				id = austria.8
				days = 1 
				random_hours = 12
			}
		}
		effect_tooltip = {
			FROM = {
				diplomatic_relation = {
					country = AUS
					relation = guarantee
				}
			}
		}
		set_country_flag = AUS_west_allied
		complete_national_focus = AUS_look_west
	}
	option = { #never!
		name = austria.11.b
		set_country_flag = AUS_west_rejected
		country_event = austria.2
	}
}

country_event = { #west rejects supporting austria
	id = austria.12
	title = austria.12.t
	desc = austria.12.d
	is_triggered_only = yes
	option = { #find new ally
		name = austria.12.a
		add_opinion_modifier = {
			target = FROM
			modifier = large_decrease
		}
		set_country_flag = AUS_west_rejected
		country_event = austria.2
	}
}

country_event = { #Austria requests autonomy - germany
	id = austria.13
	title = austria.13.t
	desc = austria.13.d
	is_triggered_only = yes
	option = { # ok, but nazis need to take power
		name = austria.13.a
		AUS = {
			country_event = austria.14
		}
	}
	option = { # we have other plans 
		name = austria.13.b
		ai_chance = {
			base = 0
		}
	}
}

country_event = { #germany asks for nazis to take power
	id = austria.14
	title = austria.14.t
	desc = austria.14.d
	is_triggered_only = yes
	option = { #it can be arranged
		name = austria.14.a
		GER = {
			country_event = {
				id = austria.15
				days = 1 
				random_hours = 12
			}
		}
		set_country_flag = AUS_germany_allied
		complete_national_focus = AUS_accept_inevitable
	}
	option = { #never!
		name = austria.14.b
		GER = {
			country_event = {
				id = austria.16
				days = 1 
				random_hours = 12
			}
		}
	}
}
country_event = { #Austria accepts - germany
	id = austria.15
	title = austria.15.t
	desc = austria.15.d
	is_triggered_only = yes
	option = {
		name = austria.15.a
		custom_effect_tooltip = AUS_anschluss_will_be_bypassed
		
	}
}

country_event = { #Austria rejects
	id = austria.16
	title = austria.16.t
	desc = austria.16.d
	is_triggered_only = yes
	option = { #We will deal with them later...
		name = austria.16.a
	}
}
country_event = { #Germany rejects supporting austria
	id = austria.17
	title = austria.17.t
	desc = austria.17.d
	is_triggered_only = yes
	option = { #find new ally
		name = austria.17.a 
		add_opinion_modifier = {
			target = FROM
			modifier = large_decrease
		}
		set_country_flag = AUS_germany_rejected
		country_event = austria.2
	}
}

country_event = { #austria protected - germany
	id = austria.18
	title = austria.18.t
	desc = austria.18.d
	is_triggered_only = yes
	option = { #Bypass anschluss
		name = austria.18.a
		set_country_flag = AUS_germany_bypass_anschluss
		custom_effect_tooltip = AUS_anschluss_will_be_bypassed
	}
	option = { #wont stop us
		name = austria.18.b
		custom_effect_tooltip = AUS_anschluss_not_be_bypassed
		ai_chance = {
			base = 0
		}
	}
}

country_event = { #SDAPO premiereship
	id = austria.19
	title = austria.19.t
	desc = austria.19.d
	is_triggered_only = yes
	option = { #renner
		name = austria.19.a
		add_stability = 0.02
	}
	option = { #bauer
		name = austria.19.b
		promote_character = AUS_otto_bauer
	}
}

country_event = { #hapsburg moderate return
	id = austria.20
	title = austria.20.t
	desc = austria.20.d
	is_triggered_only = yes
	option = {
		name = austria.20.a
		
		hidden_effect = {
			if = {
				limit = {
					has_cosmetic_tag = AUS_REPUBLIC
				}
				drop_cosmetic_tag = yes
			}
		}
		AUS_otto_von_habsburg = {
			add_country_leader_role = {
				character = AUS_otto_von_habsburg
				promote_leader = yes
				country_leader = { 
					ideology = constitutional_monarchy
					traits = {
						AUS_constrained_figurehead
					}
				}
			}
		}	
		
		set_politics = {
			ruling_party = neutrality
			elections_allowed = yes
			name = "Haus Hapsburg"
			long_name = "Haus Hapsburg"
		}
		set_power_balance = {
			id = AUS_monarchist_power_balance
			left_side = AUS_parliament_side
			right_side = AUS_hapsburg_side
			set_value = -0.2
		}	
		news_event = {
			id = austria.21
			days = 1 
			random_hours = 12
		}
	
	}
}

news_event = { #moderate hapsburg news
	id = austria.21
	title = austria.21.t
	desc = austria.21.d
	is_triggered_only = yes
	picture = GFX_news_event_HUN_blessed_otto
	major = yes
	option = {
		name = austria.21.a
		trigger = {
			NOT = {
				tag = AUS
			}
		}
	}
	option = {
		name = austria.21.b
		trigger = {
			tag = AUS
		}
	}
}

country_event = { #hapsburg lose power
	id = austria.22
	title = austria.22.t
	desc = austria.22.d
	is_triggered_only = yes
	option = {
		name = austria.22.a
		hidden_effect = {
			set_cosmetic_tag = AUS_EMPIRE
		}
		AUS_otto_von_habsburg = {
			add_country_leader_role = {
				character = AUS_otto_von_habsburg
				promote_leader = yes
				country_leader = { 
					ideology = socialism
					traits = {
						AUS_fallen_from_grace
					}
				}
			}
		}	
		
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		remove_power_balance = {
			id = AUS_monarchist_power_balance
		}
	}
}

country_event = {
	id = austria.23
	title = austria.23.t
	desc = austria.23.d
	is_triggered_only = yes
	option = {
		name = austria.23.a
		AUS_otto_von_habsburg = {
			swap_country_leader_traits = {
				remove = AUS_constrained_figurehead
				add = AUS_constrained_no_longer
			}
		}
		add_political_power = 100
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}
}