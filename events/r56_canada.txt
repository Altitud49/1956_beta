
#### Canada R56 Events


add_namespace = r56_canada

# Change "Defence of Canada Regulations to fascism"
country_event = {
	id = r56_canada.1
	title = r56_canada.1.t
	desc = r56_canada.1.d
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_idea = r56_CAN_docr_democratic
			has_idea = r56_CAN_docr_communism
			}
		has_government = fascism
	}
	
	option = {
		name = r56_canada.1.a 
		if = {
			limit = {
				has_idea = r56_CAN_docr_democratic
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_democratic
				add_idea = r56_CAN_docr_fascism
			}
		}
		else = {
			limit = {
				has_idea = r56_CAN_docr_communism
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_communism
				add_idea = r56_CAN_docr_fascism
			}
		}
	}
}

# Change "Defence of Canada Regulations to communism"
country_event = {
	id = r56_canada.2
	title = r56_canada.1.t
	desc = r56_canada.1.d
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_idea = r56_CAN_docr_democratic
			has_idea = r56_CAN_docr_fascism
			}
		has_government = communism
	}
	
	option = {
		name = r56_canada.1.a 
		if = {
			limit = {
				has_idea = r56_CAN_docr_democratic
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_democratic
				add_idea = r56_CAN_docr_communism
			}
		}
		else = {
			limit = {
				has_idea = r56_CAN_docr_fascism
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_fascism
				add_idea = r56_CAN_docr_communism
			}
		}
	}
}

# Change "Defence of Canada Regulations to democratic"
country_event = {
	id = r56_canada.3
	title = r56_canada.1.t
	desc = r56_canada.1.d
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_idea = r56_CAN_docr_communism
			has_idea = r56_CAN_docr_fascism
			}
		has_government = democratic
	}
	
	option = {
		name = r56_canada.1.a 
		if = {
			limit = {
				has_idea = r56_CAN_docr_communism
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_communism
				add_idea = r56_CAN_docr_democratic
			}
		}
		else = {
			limit = {
				has_idea = r56_CAN_docr_fascism
			}
			swap_ideas = {
				remove_idea = r56_CAN_docr_fascism
				add_idea = r56_CAN_docr_democratic
			}
		}
	}
}

#The French Canadian Conscription Crisis
country_event = {
	id = r56_canada.4
	title = r56_canada.4.t
	desc = r56_canada.4.d
	
	is_triggered_only = yes
	
	
	option = {
		name = r56_canada.4.a ###Force the conscription
			add_ideas = r56_CAN_conscription_forced
			466 = {
			add_state_modifier = {
				modifier = {
					local_manpower = 0.4
					}
				}
			}
			468 = {
				add_state_modifier = {
					modifier = {
						local_manpower = 0.4
					}
				}
			}
		}
	option = {
		name = r56_canada.4.b ###Come to an agreement on the conscription
			466 = {
			add_state_modifier = {
				modifier = {
					local_manpower = 0.3
					}
				}
			}
			468 = {
				add_state_modifier = {
					modifier = {
						local_manpower = 0.3
					}
				}
			}
	}
}

#Jack Bickell Returns
country_event = {
	id = r56_canada.5
	title = r56_canada.5.t
	desc = r56_canada.5.d
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_government = democratic
		date > 1942.1.1
		is_in_faction_with = ENG
		ENG = { has_government = democratic }
		has_war = yes
	}
	
	mean_time_to_happen = {
		days = 60
	}
	
	option = {
		name = r56_canada.5.a 
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = r56_CAN_jack_bickell
			hidden_effect = {
				set_country_flag = r56_can_bickell_returned
			}
		}
}

#Twenty Centers Riot
country_event = {
	id = r56_canada.6
	title = r56_canada.6.t
	desc = r56_canada.6.d
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_idea = r56_CAN_royal_twenty_centers
		date > 1937.4.4
	}
	
	mean_time_to_happen = {
		days = 90
	}
	
	option = { ###Use political power and end the camps
		name = r56_canada.6.a
			trigger = { has_political_power > 100 }
			remove_ideas = r56_CAN_royal_twenty_centers
			add_political_power = -100
			add_stability = 0.01
		}
		
	option = { ###Use force to end the riots
		name = r56_canada.6.b 
			swap_ideas = {
				remove_idea = r56_CAN_royal_twenty_centers
				add_idea = r56_CAN_royal_twenty_centers_angered
			}
			add_manpower = -1000
			add_stability = -0.05
		}
		
	option = { ###Let them riot all they want
		name = r56_canada.6.c
			add_political_power = -50
			add_stability = -0.02
			276 = {
					damage_building = { type = industrial_complex damage = 1.2 }
					damage_building = { type = arms_factory damage = 1.2 }
					damage_building = { type = infrastructure damage = 1.2 }
			}
			hidden_effect = {
				set_country_flag = r56_can_riots_continued
			}
		}
}

#Angered twenty centers riot even more
country_event = {
	id = r56_canada.7
	title = r56_canada.7.t
	desc = r56_canada.7.d #Rioters demand compensation for the use of force
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_idea = r56_CAN_royal_twenty_centers_angered
		date > 1938.9.9
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = { ###Use force to shut down the riots and end the camps
		name = r56_canada.7.a
			remove_ideas = r56_CAN_royal_twenty_centers_angered
			add_political_power = -75
			add_stability = -0.1
			add_manpower = -3000
			276 = {
					damage_building = { type = industrial_complex damage = 2 }
					damage_building = { type = arms_factory damage = 2 }
					damage_building = { type = infrastructure damage = 2 }
			}
			
		}
		
	option = { ###Give in to their demands and give compensation
		name = r56_canada.7.b 
				remove_ideas = r56_CAN_royal_twenty_centers_angered
				add_timed_idea = {
					idea = r56_CAN_royal_twenty_centers_compensated
					days = 180
				}
				add_political_power = -25
		}
		
}

#Twenty Centers continue protests
country_event = {
	id = r56_canada.8
	title = r56_canada.8.t
	desc = r56_canada.8.d 
	
	trigger = {
		tag = CAN
		has_country_flag = r56_can_riots_continued
		has_idea = r56_CAN_royal_twenty_centers
	}
	
	mean_time_to_happen = {
		days = 50
	}
	
	option = { ###Protesters break stuff
		name = r56_canada.8.a
			276 = {
					damage_building = { type = industrial_complex damage = 0.5 }
					damage_building = { type = arms_factory damage = 0.5 }
					damage_building = { type = infrastructure damage = 0.5 }
			}
		}		
}

#Ask UK for Newfoundland and Labrador
country_event = {
	id = r56_canada.9
	title = r56_canada.9.t
	desc = r56_canada.9.d 
	
	is_triggered_only = yes
	
	
	option = { ###Give Canada Newfoundland and Labrador
		name = r56_canada.9.a
		
			ai_chance = {
				base = 1
				modifier = {
					is_in_faction_with = CAN
					factor = 10
				}
				modifier = {
					has_war = yes
					factor = 5
				}
				modifier = {
					OR = { 
						NOT = { has_government = fascism }
						has_war_with = CAN
					}
					factor = 0
				}
			}
			effect_tooltip = {
				CAN = {
					transfer_state = 331
					transfer_state = 332
				}
			}
			hidden_effect = {
				CAN = { country_event = { id =  r56_canada.10 days = 2 } }
			}	
		}

	option = { ###Don't give Canada Newfoundland and Labrador
		name = r56_canada.9.b
			ai_chance = {
				base = 45
			}
			
			effect_tooltip = {
				if = {
					limit = {
						is_in_faction_with = CAN
					}
					CAN = {
						add_opinion_modifier = {
							target = ROOT
							modifier = medium_decrease
						}
					}
				}
				else = {
					CAN = {
						create_wargoal = {
							type = take_state_focus
							target = ROOT
							generator = { 331 332 }
						}
					}
				}
			}
			
			hidden_effect = {
				CAN = { country_event = { id =  r56_canada.11 days = 2 } }
			}	
		}	
}

#ENG Gives Newfoundland and Labrador
country_event = {
	id = r56_canada.10
	title = r56_canada.10.t
	desc = r56_canada.10.d 
	
	is_triggered_only = yes
	
	option = { ###UK gives states
		name = r56_canada.10.a
			transfer_state = 331
			transfer_state = 332
		}		
}

#ENG does not give Newfoundland and Labrador
country_event = {
	id = r56_canada.11
	title = r56_canada.11.t
	desc = r56_canada.11.d 
	
	is_triggered_only = yes
	
	option = { ###UK dont give states, if in same faction and has same government, no wargoal
		name = r56_canada.11.a
		trigger = { 
			OR = {
				AND = {
					is_in_faction_with = FROM 
					FROM = { has_government = ROOT }
				}
				is_in_faction_with = FROM 
			}
		}
			add_opinion_modifier = {
				target = FROM
				modifier = medium_decrease
			}
	}	

	option = { ###UK dont give states, not in faction, creates wargoal
		name = r56_canada.11.b
		
		trigger = { 
			NOT = { is_in_faction_with = FROM }
		}

		create_wargoal = {
			type = take_state_focus
			target = FROM
			generator = { 331 332 }
		}
	}	
}

#The North American Alliance
country_event = {
	id = r56_canada.12
	title = r56_canada.12.t
	desc = r56_canada.12.d 
	
	is_triggered_only = yes
	

	
	option = { ###USA Agrees, faction is created
		name = r56_canada.12.a
		
		ai_chance = {
		base = 100
		
		}
		create_faction = r56_can_american_alliance
		
		CAN = {
			country_event = r56_canada.13
		}
	}	

	option = { ###USA disagrees, no faction
		name = r56_canada.12.b
		
		ai_chance = {
			base = 10
		}
		
		effect_tooltip = {
			CAN = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_decrease
				}
			}
		}
		
		CAN = {
			country_event = r56_canada.14
		}
	}	
}

#USA Agreed, Alliance created, canada joins
country_event = {
	id = r56_canada.13
	title = r56_canada.13.t
	desc = r56_canada.13.d 
	
	is_triggered_only = yes
	
	
	option = { ###Join faction
		name = r56_canada.13.a
		add_to_faction = FROM
	}	
	
}

#USA disagreed, no faction
country_event = {
	id = r56_canada.14
	title = r56_canada.14.t
	desc = r56_canada.14.d 
	
	is_triggered_only = yes
	
	
	option = { ###add opinion modifier
		name = r56_canada.14.a
		add_opinion_modifier = {
			target = FROM
			modifier = medium_decrease
		}
	}	
	
}